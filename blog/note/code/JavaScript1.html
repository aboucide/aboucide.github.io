<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>JavaScript学习笔记（1）基础知识 | 源的自留地</title><meta name="author" content="玉伏树"><meta name="copyright" content="玉伏树"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="学习笔记 JavaScript 的基础知识。历时一个月才学完。。。">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript学习笔记（1）基础知识">
<meta property="og:url" content="https://github.com/aboucide/aboucide.github.io.git/blog/note/code/JavaScript1.html">
<meta property="og:site_name" content="源的自留地">
<meta property="og:description" content="学习笔记 JavaScript 的基础知识。历时一个月才学完。。。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://emaillistvalidation.com/blog/content/images/2023/09/JavaScript-Symbol.png">
<meta property="article:published_time" content="2024-09-08T23:15:08.000Z">
<meta property="article:modified_time" content="2024-10-14T10:01:04.024Z">
<meta property="article:author" content="玉伏树">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://emaillistvalidation.com/blog/content/images/2023/09/JavaScript-Symbol.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://github.com/aboucide/aboucide.github.io.git/blog/note/code/JavaScript1.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "nr4zxz4vpa");</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: {"limitDay":180,"position":"top","messagePrev":"这篇文章已经发布","messageNext":"天了，请注意考虑本文内容是否失效，仅作参考使用."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaScript学习笔记（1）基础知识',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-10-14 10:01:04'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="referrer" content="no-referrer-when-downgrade" /><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://puui.qpic.cn/vpic_cover/l3165317c7s/l3165317c7s_hz.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">22</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-navicon"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/note/"><i class="fa-fw fas fa fa-book"></i><span> 笔记</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-screwdriver-wrench"></i><span> OL tool</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/OLtool/m3u8-downloader/index-m3u8.html"><span> m3u8视频下载</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-file-code"></i><span> HTML学习记录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Demo/"><i class="fa-fw far fa-file-code"></i><span> all html demo</span></a></li><li><a class="site-page child" href="/html/html-learn-paiban.html"><i class="fa-fw fas fa-code"></i><span> 1、排版标签</span></a></li><li><a class="site-page child" href="/html/html-learn-table.html"><i class="fa-fw fas fa-code"></i><span> 2、表格的使用</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://emaillistvalidation.com/blog/content/images/2023/09/JavaScript-Symbol.png')"><nav id="nav"><span id="blog-info"><a href="/" title="源的自留地"><span class="site-name">源的自留地</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-navicon"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/categories/note/"><i class="fa-fw fas fa fa-book"></i><span> 笔记</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-screwdriver-wrench"></i><span> OL tool</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/OLtool/m3u8-downloader/index-m3u8.html"><span> m3u8视频下载</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-file-code"></i><span> HTML学习记录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Demo/"><i class="fa-fw far fa-file-code"></i><span> all html demo</span></a></li><li><a class="site-page child" href="/html/html-learn-paiban.html"><i class="fa-fw fas fa-code"></i><span> 1、排版标签</span></a></li><li><a class="site-page child" href="/html/html-learn-table.html"><i class="fa-fw fas fa-code"></i><span> 2、表格的使用</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaScript学习笔记（1）基础知识<a class="post-edit-link" href="https://github.com/aboucide/hexo-blog-source/tree/main/source/_posts/blog/笔记note/JavaScript学习笔记（1）基础知识.md" title="编辑" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表日期</span><time class="post-meta-date-created" datetime="2024-09-08T23:15:08.000Z" title="发表日期 2024-09-08 23:15:08">2024-09-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">最近更新日期</span><time class="post-meta-date-updated" datetime="2024-10-14T10:01:04.024Z" title="最近更新日期 2024-10-14 10:01:04">2024-10-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/note/">笔记</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/note/%E7%BC%96%E7%A8%8B/">编程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaScript学习笔记（1）基础知识"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">本文总阅读次数:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>参考学习链接：<a target="_blank" rel="noopener" href="https://zh.javascript.info/">https://zh.javascript.info/</a></p>
<h1 id="关于-JavaScript-的一些基本常识"><a href="#关于-JavaScript-的一些基本常识" class="headerlink" title="关于 JavaScript 的一些基本常识"></a>关于 JavaScript 的一些基本常识</h1><h2 id="如何把代码运行的结果显示出来？"><a href="#如何把代码运行的结果显示出来？" class="headerlink" title="如何把代码运行的结果显示出来？"></a>如何把代码运行的结果显示出来？</h2><ul>
<li>方法一  浏览器弹窗 alert、prompt 和 confirm</li>
</ul>
<p><code>alert</code> 它会显示一条信息，并等待用户按下 “OK”。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;Hello&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>弹出的这个带有信息的小窗口被称为 <strong>模态窗</strong>。“modal” 意味着用户不能与页面的其他部分（例如点击其他按钮等）进行交互，直到他们处理完窗口。在上面示例这种情况下 —— 直到用户点击“确定”按钮。</p>
<p><code>prompt</code> 函数接收两个参数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = <span class="title function_">prompt</span>(title, [<span class="keyword">default</span>]);</span><br></pre></td></tr></table></figure>

<p>浏览器会显示一个带有文本消息的模态窗口，还有 input 框和确定&#x2F;取消按钮。</p>
<ul>
<li><p><code>title</code></p>
<p>显示给用户的文本</p>
</li>
<li><p><code>default</code></p>
<p>可选的第二个参数，指定 input 框的初始值。</p>
</li>
</ul>
<p>访问者可以在提示输入栏中输入一些内容，然后按“确定”键。然后我们在 <code>result</code> 中获取该文本。或者他们可以按取消键或按 Esc 键取消输入，然后我们得到 <code>null</code> 作为 <code>result</code>。</p>
<p><code>prompt</code> 将返回用户在 <code>input</code> 框内输入的文本，如果用户取消了输入，则返回空值 <code>null</code>。</p>
<p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = <span class="title function_">confirm</span>(question);</span><br></pre></td></tr></table></figure>

<p><code>confirm</code> 函数显示一个带有 <code>question</code> 以及确定和取消两个按钮的模态窗口。</p>
<p>点击确定返回 <code>true</code>，点击取消返回 <code>false</code>。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isBoss = <span class="title function_">confirm</span>(<span class="string">&quot;Are you the boss?&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>( isBoss ); <span class="comment">// 如果“确定”按钮被按下，则显示 true</span></span><br></pre></td></tr></table></figure>

<ul>
<li>方法二  控制台日志 console.log</li>
</ul>
<p>推荐使用方法二。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>+<span class="number">2</span>); <span class="comment">//输出 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;你好&quot;</span>); <span class="comment">//输出 你好</span></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p><code>//</code> ：单行注释，在双斜杠的后面的语句全部被当作注释，机器不会翻译，给人看的。</p>
<p><code>/*   */</code> ：这两个符号之间的内容全部被当作注释。与上面双斜杠不同的是，这个适用于多行注释。</p>
<h2 id="现代模式-严格模式-use-strict"><a href="#现代模式-严格模式-use-strict" class="headerlink" title="现代模式&#x2F;严格模式 use strict"></a>现代模式&#x2F;严格模式 <code>use strict</code></h2><ul>
<li>我暂时不清楚它的用途。等将来懂了再回来填坑。</li>
<li>用法</li>
</ul>
<p>全文启动严格模式：将 <code>&quot;use strict&quot;</code> 语句放在整个 <code>JavaScript</code> 文件的第一行。不放在第一行，是无效的。</p>
<p>严格模式一旦开启，没有回头路，只能手动删除语句才能关闭。</p>
<ul>
<li>备注</li>
</ul>
<p>现代 JavaScript 支持 “class” 和 “module” —— 高级语言结构（本教程后续章节会讲到），它们会自动启用 <code>use strict</code>。因此，如果我们使用它们，则无需添加 <code>&quot;use strict&quot;</code> 指令。</p>
<h2 id="三种特殊值"><a href="#三种特殊值" class="headerlink" title="三种特殊值"></a>三种特殊值</h2><p>在 JavaScript 中，<code>null</code>、<code>undefined</code> 和 <code>NaN</code> 都是表示“无”或“不是值”的特殊值，但它们各自有不同的用途和含义：</p>
<ol>
<li><p>**<code>null</code>**：</p>
<ul>
<li><code>null</code> 是一个故意设计的值，用来表示变量的空值（empty value）。</li>
<li>它代表一个空对象指针，即没有任何对象可以指向。</li>
<li>通常用来表示一个变量没有指向任何对象，或者一个函数没有返回任何对象。</li>
</ul>
<p>示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myVar = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>**<code>undefined</code>**：</p>
<ul>
<li><code>undefined</code> 表示一个变量已被声明，但没有被赋值。</li>
<li>它表示变量当前没有值。</li>
<li>当函数没有返回值时，也会默认返回 <code>undefined</code>。</li>
</ul>
<p>示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myVar;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myVar); <span class="comment">// 输出: undefined</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>**<code>NaN</code>**：</p>
<ul>
<li><code>NaN</code> 表示一个非数值（Not-a-Number）。</li>
<li>它是一个特殊的值，用来表示一个不可能的或未定义的数学运算结果。</li>
<li>任何涉及 <code>NaN</code> 的操作都会返回 <code>NaN</code>。</li>
</ul>
<p>示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myVar = <span class="number">0</span> / <span class="number">0</span>; <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myVar); <span class="comment">// 输出: NaN</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>区别</p>
<ul>
<li><p><strong>类型</strong>：</p>
<ul>
<li><code>null</code> 是 <code>Object</code> 类型，尽管它表示空值。</li>
<li><code>undefined</code> 是 <code>Undefined</code> 类型。</li>
<li><code>NaN</code> 是 <code>Number</code> 类型，尽管它表示非数值。</li>
</ul>
</li>
<li><p><strong>使用场景</strong>：</p>
<ul>
<li><code>null</code> 通常用于表示空值或故意设置为“无”的情况。</li>
<li><code>undefined</code> 通常用于表示变量尚未初始化。</li>
<li><code>NaN</code> 用于表示数学运算的无效结果。</li>
</ul>
</li>
<li><p><strong>相等性</strong>：</p>
<ul>
<li><code>null</code> 和 <code>undefined</code> 相等，因为 <code>null == undefined</code> 返回 <code>true</code>。</li>
<li><code>NaN</code> 不等于任何值，包括它自己，即 <code>NaN == NaN</code> 返回 <code>false</code>。</li>
</ul>
</li>
<li><p><strong>转换</strong>：</p>
<ul>
<li>当 <code>null</code> 和 <code>undefined</code> 参与运算时，它们会被转换为 <code>0</code>。</li>
<li><code>NaN</code> 在运算时通常会导致结果为 <code>NaN</code>。</li>
</ul>
</li>
</ul>
<p>检查</p>
<ul>
<li>使用 <code>typeof</code> 运算符可以区分 <code>null</code> 和 <code>undefined</code>，因为 <code>typeof null</code> 返回 <code>&quot;object&quot;</code>（这是一个历史遗留问题），而 <code>typeof undefined</code> 返回 <code>&quot;undefined&quot;</code>。</li>
<li>使用 <code>isNaN()</code> 函数可以检查一个值是否为 <code>NaN</code>，但要注意它会把非数字字符串转换为 <code>NaN</code>，所以最好与 <code>typeof</code> 结合使用，或者使用 <code>Number.isNaN()</code> 方法进行严格检查。</li>
</ul>
<p>在编程时，应该根据具体场景选择合适的值来表示“无”或“未定义”的状态。</p>
<hr>
<h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><p>在 JS 中，所有可以由我们自主命名的内容，都可以认为是一个 <strong>标识符</strong>，像 <code>变量名</code> <code>函数名</code> <code>类名</code>…</p>
<p>使用 <code>变量名</code> 需要遵循如下的命名规范：</p>
<p><code>变量名</code> 只能含有 <strong>字母</strong>、<strong>数字</strong>、<strong>下划线</strong>、**$**，且不能以数字开头。</p>
<p>例如，定义一个变量，名字为 <code>QQ</code>，它的值为 <code>123456</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable constant_">QQ</span> = <span class="string">&quot;123456&quot;</span>;</span><br></pre></td></tr></table></figure>



<ul>
<li>一般使用 <strong>驼峰命名法</strong> 为变量命名</li>
</ul>
<p>第一个单词小写，后面每个单词开头大写，例如 <code>myName</code>、<code>myVeryLongName</code>。</p>
<ul>
<li>在 <code>JavaScript</code> 中，严格区分大小写。</li>
<li>常量命名时，字母一般全部大写。</li>
</ul>
<p>例如，众所周知，圆周率 <code>PI</code> 约等于 <code>3.14</code>，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">PI</span> = <span class="string">&quot;3.14&quot;</span> ;</span><br></pre></td></tr></table></figure>

<p>例如定义某人的生日，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">BIRTHDAY</span> = <span class="string">&quot;2000.10.1&quot;</span></span><br></pre></td></tr></table></figure>



<p>有一些英文单词被 <code>JavaScript</code> 官方已经使用，你不能再使用，这种被称作 <code>保留字</code> 。<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Lexical_grammar#%E4%BF%9D%E7%95%99%E5%AD%97">保留字 | MDN</a></p>
<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><p><code>JavaScript</code> 中共计 <code>8</code> 种数据类型，其中 <code>7</code> 种是原始数据类型，最后 <code>1</code> 种是数据结构（也称作 <code>对象object</code>）。</p>
<h2 id="文本串类型"><a href="#文本串类型" class="headerlink" title="文本串类型"></a>文本串类型</h2><h3 id="引号-（quotes）"><a href="#引号-（quotes）" class="headerlink" title="引号 （quotes）"></a>引号 （quotes）</h3><p>​	在 js 中的文本串，可以被 <code>单引号</code>、<code>双引号</code>、<code>反引号</code> 进行插入使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wenben = <span class="string">&#x27;你好，世界&#x27;</span> ;	<span class="comment">//单引号插入文本</span></span><br><span class="line"><span class="keyword">let</span> wenben1 = <span class="string">&quot;你好啊，世界&quot;</span> ; <span class="comment">// 双引号插入文本</span></span><br><span class="line"><span class="keyword">let</span> wenben2 = <span class="string">`你好，世界啊`</span> ; <span class="comment">// 反引号插入文本</span></span><br></pre></td></tr></table></figure>

<p>其中，单引号和双引号的作用一模一样。<strong>反引号</strong> 可以把语法类似这种的 <code>$&#123; 代码 &#125;</code> 代码插入文本串中进行运行。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">`我的名字是 <span class="subst">$&#123; <span class="number">660</span> +<span class="number">6</span> &#125;</span>`</span>);  <span class="comment">//输出 我的名字是 666</span></span><br></pre></td></tr></table></figure>

<p><strong>反引号</strong> 还能允许文本串自带 <strong>换行</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">`</span></span><br><span class="line"><span class="string">你好，</span></span><br><span class="line"><span class="string">世界。</span></span><br><span class="line"><span class="string">学习使我快乐。</span></span><br><span class="line"><span class="string">`</span>);	</span><br><span class="line"><span class="comment">//输出的文字照样带换行的效果</span></span><br></pre></td></tr></table></figure>

<p>单引号和双引号来自语言创建的古老时代，当时没有考虑到多行字符串的需要。反引号出现较晚，因此更通用。</p>
<h3 id="特殊字符-转义字符"><a href="#特殊字符-转义字符" class="headerlink" title="特殊字符  &#x2F; 转义字符"></a>特殊字符  &#x2F; 转义字符</h3><p>所有的特殊字符都以反斜杠字符 <code>\</code> 开始。它也被称为“转义字符”。</p>
<p>反斜杠 <code>\</code> 在 JavaScript 中用于正确读取 <strong>字符串</strong>，然后消失。内存中的字符串没有 <code>\</code>。</p>
<p>所以要想显示转义字符的效果，记得使用引号将转义字符括住。</p>
<table>
<thead>
<tr>
<th align="left">字符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>\n</code></td>
<td align="left">换行</td>
</tr>
<tr>
<td align="left"><code>\&#39;</code>, <code>\&quot;</code></td>
<td align="left">引号</td>
</tr>
<tr>
<td align="left"><code>\\</code></td>
<td align="left">反斜线</td>
</tr>
<tr>
<td align="left"><code>\t</code></td>
<td align="left">制表符</td>
</tr>
<tr>
<td align="left"><code>\xXX</code></td>
<td align="left">具有给定十六进制 Unicode <code>XX</code> 的 Unicode 字符，例如：<code>&#39;\x7A&#39;</code> 和 <code>&#39;z&#39;</code> 相同。</td>
</tr>
<tr>
<td align="left"><code>\uXXXX</code></td>
<td align="left">以 UTF-16 编码的十六进制代码 <code>XXXX</code> 的 Unicode 字符，例如 <code>\u00A9</code> —— 是版权符号 <code>©</code> 的 Unicode。它必须正好是 4 个十六进制数字。</td>
</tr>
<tr>
<td align="left"><code>\u&#123;X…XXXXXX&#125;</code>（1 到 6 个十六进制字符）</td>
<td align="left">具有给定 UTF-32 编码的 Unicode 符号。一些罕见的字符用两个 Unicode 符号编码，占用 4 个字节。这样我们就可以插入长代码了。</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello\nWorld&quot;</span>); <span class="comment">// Hello 和 World 中间的 \n 相当于换行</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello&#x27;</span> + <span class="string">&#x27;\n&#x27;</span> + <span class="string">&#x27;World&#x27;</span>);<span class="comment">// Hello 和 World 中间的 \n 相当于换行。加号用于连接字符串</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello\&quot;World&quot;</span>); <span class="comment">// Hello 和 World中间的 \&quot; 相当于引号&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello\&#x27;World&quot;</span>); <span class="comment">// Hello 和 World中间的 \&#x27; 相当于引号&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello\\World&quot;</span>); <span class="comment">// Hello 和 World中间的 \\ 相当于反斜线\</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello\tWorld&quot;</span>);   <span class="comment">// Hello 和 World中间的 \t 相当于制表符,相当于按下了一次tab键</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;\x7A&#x27;</span>); <span class="comment">// 十六进制 Unicode 字符，输出 z</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;\u00A9&#x27;</span>);  <span class="comment">// UTF-16 编码的十六进制 Unicode 字符，输出 ©</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;\u&#123;1F60D&#125;&#x27;</span>); <span class="comment">// UTF-32 编码的十六进制 Unicode 字符，输出 😍</span></span><br></pre></td></tr></table></figure>



<h3 id="字符串长度-length"><a href="#字符串长度-length" class="headerlink" title="字符串长度 length"></a>字符串长度 length</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wenben = <span class="string">&quot;abcde&quot;</span> ;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(wenben.<span class="property">length</span>);  <span class="comment">//输出 5</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;你好世界&quot;</span>.<span class="property">length</span>) <span class="comment">//输出 4</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;你好\n世界&quot;</span>.<span class="property">length</span>)  ; <span class="comment">// 输出 5， 因为换行符(\n)占一个字符</span></span><br></pre></td></tr></table></figure>



<h3 id="访问字符"><a href="#访问字符" class="headerlink" title="访问字符"></a>访问字符</h3><p>代码格式 <code>string[i]</code>，代表访问字符串 string 的第 <code>i+1</code> 个字符。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wenben = <span class="string">&quot;你好世界&quot;</span> ;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(wenben[<span class="number">0</span>]); <span class="comment">//输出 &quot;你&quot;    0 代表第一个文本，1 代表第二个文本，以此类推</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(wenben[<span class="number">3</span>]);  <span class="comment">//输出 &quot;界&quot;    3 代表第四位的文本</span></span><br></pre></td></tr></table></figure>



<p>遍历文本 <code>对字符串中的每一个字符进行逐个访问的过程</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wenben = <span class="string">&quot;你好世界&quot;</span> ;</span><br><span class="line"><span class="comment">//下面使用两种方法进行依次输出 变量【wenben】中的字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法 1</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; wenben.<span class="property">length</span>; i++) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(wenben[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;接下来换另一种方法进行&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//方法 2</span></span><br><span class="line"><span class="keyword">for</span>( <span class="keyword">let</span> text <span class="keyword">of</span> wenben )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="property">log</span> (text);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>会发现方法 2 更简洁。是的，在 JavaScript 中常用 <code>for ... of </code> 循环来遍历字符串、数组等。</p>
<h3 id="字符串是不可变的"><a href="#字符串是不可变的" class="headerlink" title="字符串是不可变的"></a>字符串是不可变的</h3><p>在 JavaScript 中，字符串不可更改。改变字符是不可能的。</p>
<p>我们证明一下为什么不可能：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;Hi&#x27;</span>;</span><br><span class="line"></span><br><span class="line">str[<span class="number">0</span>] = <span class="string">&#x27;h&#x27;</span>; <span class="comment">// error</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str[<span class="number">0</span>] ); <span class="comment">// 无法运行</span></span><br></pre></td></tr></table></figure>
<p>通常的解决方法是创建一个新的字符串，并将其分配给 str 而不是以前的字符串。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;Hi&#x27;</span>;</span><br><span class="line"></span><br><span class="line">str = <span class="string">&#x27;h&#x27;</span> + str[<span class="number">1</span>];  <span class="comment">// 替换字符串</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str ); <span class="comment">// hi</span></span><br></pre></td></tr></table></figure>
<p>在接下来的章节，我们将看到更多相关示例。</p>
<h3 id="字母大小写转换"><a href="#字母大小写转换" class="headerlink" title="字母大小写转换"></a>字母大小写转换</h3><p><code>[toLowerCase()</code>] 和 <code> [toUpperCase()]</code> 方法可以改变字符串中英文字母的大小写。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wenben = <span class="string">&quot;你好,世jie&quot;</span> ;</span><br><span class="line"><span class="keyword">let</span> wenben1 = <span class="string">&quot;NiHao,shiJie&quot;</span> ;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;你好,世jie&#x27;</span>.<span class="title function_">toUpperCase</span>() ); <span class="comment">// 你好, 世 JIE</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;NiHao,shiJie&#x27;</span>.<span class="title function_">toLowerCase</span>() ); <span class="comment">// nihao, shijie</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( wenben.<span class="title function_">toUpperCase</span>() ); <span class="comment">// 你好, 世 JIE</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( wenben1.<span class="title function_">toLowerCase</span>() ); <span class="comment">// nihao, shijie</span></span><br></pre></td></tr></table></figure>





<h3 id="在字符串查找是否包含另一个字符串"><a href="#在字符串查找是否包含另一个字符串" class="headerlink" title="在字符串查找是否包含另一个字符串"></a>在字符串查找是否包含另一个字符串</h3><p>此功能又称为 <strong>”在字符串中查找子字符串“</strong>。</p>
<p>在 JavaScript 中，有很多方法能实现这个功能。</p>
<ul>
<li>老旧方法    str.indexOf(substring, pos)</li>
</ul>
<p>它从给定位置 <code>pos</code> 开始(默认从左向右)，在 <code>str</code> 中查找 <code>substr</code>，如果没有找到，则返回 <code>-1</code>，否则返回匹配成功的位置。</p>
<p>第二个参数 pos 是可选的，不加 pos，默认从头开始匹配，返回第一次匹配成功的位置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;这是一个测试字符串，测试一下，看看是否能找到所有的测试。&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> substring = <span class="string">&quot;测试&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> index = str.<span class="title function_">indexOf</span>(substring);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(index); <span class="comment">// 输出第一次找到“测试”的位置   4</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;这是一个测试字符串，测试一下，看看是否能找到所有的测试。&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> substring = <span class="string">&quot;测试&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> index = str.<span class="title function_">indexOf</span>(substring);</span><br><span class="line"><span class="keyword">let</span> indices = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (index !== -<span class="number">1</span>) </span><br><span class="line">&#123;</span><br><span class="line">  indices.<span class="title function_">push</span>(index);</span><br><span class="line">  index = str.<span class="title function_">indexOf</span>(substring, index + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(indices); <span class="comment">// 输出所有找到的子字符串的位置   输出 (3) [4, 10, 25]</span></span><br></pre></td></tr></table></figure>

<p>还有一个类似的方法 <code>str.lastIndexOf(substr, position)</code>，它从字符串的末尾开始搜索到开头。</p>
<p>它会以相反的顺序列出这些事件。</p>
<ul>
<li><strong>现代方法</strong> <code>includes，startsWith，endsWith</code></li>
</ul>
<p>现代的方法 <code>str.includes(substr, pos)</code> 根据 <code>str</code> 中是否包含 <code>substr</code> 来返回 <code>true/false</code>。<code>pos</code> 为可选参数</p>
<p>如果我们 <strong>需要检测匹配，但不需要它的位置</strong>，那么这是正确的选择：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Widget with id&quot;</span>.<span class="title function_">includes</span>(<span class="string">&quot;Widget&quot;</span>) );    <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Hello&quot;</span>.<span class="title function_">includes</span>(<span class="string">&quot;Bye&quot;</span>) );      <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p><code>string.startWith(substr)</code> 检测文本串 <code>string</code> 的字符，是否以子文本串 <code>substr</code> 开头 。</p>
<p><code>string.endWith(substr)</code> 检测文本串 <code>string</code> 的字符，是否以子文本串 <code>substr</code> 结尾 。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Widget&quot;</span>.<span class="title function_">startsWith</span>(<span class="string">&quot;Wid&quot;</span>) ); <span class="comment">// true，&quot;Widget&quot; 以 &quot;Wid&quot; 开始</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Widget&quot;</span>.<span class="title function_">endsWith</span>(<span class="string">&quot;get&quot;</span>) ); <span class="comment">// true，&quot;Widget&quot; 以 &quot;get&quot; 结束</span></span><br></pre></td></tr></table></figure>



<h3 id="获取子字符串"><a href="#获取子字符串" class="headerlink" title="获取子字符串"></a>获取子字符串</h3><p>JavaScript 中有三种获取字符串的方法：<code>substring</code>、<code>substr</code> 和 <code>slice</code>。</p>
<p>方法一 <code>str.slice(start [, end])</code>  【推荐使用】<br>返回字符串从 <code>start</code> 到（但不包括）<code>end</code> 的部分。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">5</span>) ); <span class="comment">// &#x27;strin&#x27;，从 0 到 5 的子字符串（不包括 5）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">1</span>) ); <span class="comment">// &#x27;s&#x27;，从 0 到 1，但不包括 1，所以只有在 0 处的字符</span></span><br></pre></td></tr></table></figure>
<p>如果没有第二个参数，<code>slice</code> 会一直运行到字符串末尾：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">slice</span>(<span class="number">2</span>) ); <span class="comment">// 从第二个位置直到结束</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//start/end 也有可能是负值。它们的意思是起始位置从字符串结尾计算：</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从右边的第四个位置开始，在右边的第一个位置结束</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">slice</span>(-<span class="number">4</span>, -<span class="number">1</span>) ); <span class="comment">// &#x27;gif&#x27;</span></span><br></pre></td></tr></table></figure>

<p>方法二 <code>str.substring(start [, end])</code></p>
<p>返回字符串从 <code>start</code> 到（但不包括）<code>end</code> 的部分。</p>
<p>这与 <code>slice</code> 几乎相同，但它允许 <code>start</code> 大于 <code>end</code>。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这些对于 substring 是相同的</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">substring</span>(<span class="number">2</span>, <span class="number">6</span>) ); <span class="comment">// &quot;ring&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">substring</span>(<span class="number">6</span>, <span class="number">2</span>) ); <span class="comment">// &quot;ring&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ……但对 slice 是不同的：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">slice</span>(<span class="number">2</span>, <span class="number">6</span>) ); <span class="comment">// &quot;ring&quot;（一样）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">slice</span>(<span class="number">6</span>, <span class="number">2</span>) ); <span class="comment">// &quot;&quot;（空字符串）</span></span><br></pre></td></tr></table></figure>
<p>不支持负参数（不像 slice），它们被视为 0。</p>
<p>方法三 <code>str.substr(start [, length])</code><br>返回字符串从 start 开始的给定 length 的部分。</p>
<p>与以前的方法相比，这个允许我们指定 length 而不是结束位置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">substr</span>(<span class="number">2</span>, <span class="number">4</span>) ); <span class="comment">// &#x27;ring&#x27;，从位置 2 开始，获取 4 个字符</span></span><br><span class="line">第一个参数可能是负数，从结尾算起：</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;stringify&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( str.<span class="title function_">substr</span>(-<span class="number">4</span>, <span class="number">2</span>) ); <span class="comment">// &#x27;gi&#x27;，从第 4 位获取 2 个字符</span></span><br></pre></td></tr></table></figure>
<p>我们回顾一下这些方法，以免混淆：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>选择方式</th>
<th>负值参数</th>
</tr>
</thead>
<tbody><tr>
<td>slice(start, end）<br />【推荐使用】</td>
<td>从 start 到 end（不含 end）</td>
<td>允许</td>
</tr>
<tr>
<td>substring(start, end)</td>
<td>从 start 到 end（不含 end）</td>
<td>负值被视为 0</td>
</tr>
<tr>
<td>substr(start, length)</td>
<td>从 start 开始获取长为 length 的字符串</td>
<td>允许 start 为负数</td>
</tr>
</tbody></table>
<p>使用哪一个？<br>它们都可用于获取子字符串。正式一点来讲，substr 有一个小缺点：它不是在 JavaScript 核心规范中描述的，而是在附录 B 中。附录 B 的内容主要是描述因历史原因而遗留下来的仅浏览器特性。因此，理论上非浏览器环境可能无法支持 substr，但实际上它在别的地方也都能用。</p>
<p>相较于其他两个变体，slice 稍微灵活一些，它允许以负值作为参数并且写法更简短。</p>
<p>因此仅仅记住这三种方法中的 slice 就足够了。</p>
<hr>
<h2 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h2><h3 id="科学计数法"><a href="#科学计数法" class="headerlink" title="科学计数法"></a>科学计数法</h3><p><code>12345</code> 可以表示为 <code>1.2345e4</code> ，这里的 <code>e4</code> 相当于 <strong>10 的 4 次方</strong>。</p>
<p><code>0.008314</code> 可以表示为 <code>8.314e-3</code> 。</p>
<h3 id="数字进制转换"><a href="#数字进制转换" class="headerlink" title="数字进制转换"></a>数字进制转换</h3><p>常见的进制有：2 进制，10 进制，16 进制，32 进制。</p>
<p>进制的范围：<code>2</code> 到 <code>36</code> 。默认 <code>10</code>，毕竟大家都是人类，学的都是十进制 。</p>
<p>为什么进制最大是 36 进制呢？</p>
<p>因为 0~9 在加上 26 个英文字母一共 36，在进制中，大小写是等效的。</p>
<p>给定一个数字 <code>num</code> ，想把它转成另一个进制 <code>base</code> ，需要使用方法 <code>toString</code> 。</p>
<p><code>num.toString(base)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number = <span class="number">123456789</span>;</span><br><span class="line"><span class="keyword">let</span> number2 = number.<span class="title function_">toString</span>(<span class="number">36</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="property">log</span> (number2);              <span class="comment">//输出  21i3v9</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//当然下面这句也能实现目的</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;------这里是分割线--------&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">123456789.</span>.<span class="title function_">toString</span>(<span class="number">36</span>));  <span class="comment">//输出  21i3v9</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>请注意 <code>123456789..toString(36)</code> 中的两个点不是打错了。如果我们想直接在一个数字上调用一个方法，比如上面例子中的 <code>toString</code>，那么我们需要在它后面放置两个点 <code>..</code>。</p>
<p>如果我们放置一个点：<code>123456789.toString(36)</code>，那么就会出现一个 error，因为 JavaScript 语法隐含了第一个点之后的部分为小数部分。如果我们再放一个点，那么 JavaScript 就知道小数部分为空，现在使用该方法。</p>
<p>也可以写成 <code>(123456789).toString(36)</code>。</p>
</blockquote>
<h3 id="舍入"><a href="#舍入" class="headerlink" title="舍入"></a>舍入</h3><p>函数 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed">toFixed(n)</a> 将数字精确到到小数点后 <code>n</code> 位进行四舍五入，并以字符串形式返回结果。</p>
<p>我们可以使用一元加号或 <code>Number()</code> 调用，将其转换为数字，例如 <code>+ num.toFixed(5)</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是一个具有 5 位小数的数字。</span></span><br><span class="line"><span class="keyword">let</span> number = <span class="number">3.14159</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//保留小数点后 9 位，若位数不足自动添 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(number.<span class="title function_">toFixed</span>(<span class="number">9</span>));     <span class="comment">//输出 3.141590000</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(number.<span class="title function_">toFixed</span>(<span class="number">2</span>));     <span class="comment">//输出 3.14</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//括号中什么都不写，则默认括号里面是 0，即四舍五入保留整数部分。</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(number.<span class="title function_">toFixed</span>());      <span class="comment">//输出 3</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(number.<span class="title function_">toFixed</span>(<span class="number">3</span>));     <span class="comment">//输出 3.142</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(number.<span class="title function_">toFixed</span>(<span class="number">0</span>));     <span class="comment">//输出 3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>当然 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math">数字函数</a> 中支持更多对数字进行的操作。</p>
<h3 id="检测变量是不是数字"><a href="#检测变量是不是数字" class="headerlink" title="检测变量是不是数字"></a>检测变量是不是数字</h3><p><strong>isFinite 和 isNaN</strong></p>
<p><code>isNaN(value)</code> 将其参数转换为数字，然后测试它是否为 <code>NaN</code>：</p>
<ul>
<li><code>isNaN</code> 函数用来检查其参数是否是非数值（NaN）。</li>
<li>如果参数是 NaN，或者在将参数转换为数值时无法转换（例如字符串），则返回 <code>true</code>。</li>
<li><code>isNaN</code> 会先尝试将传入的参数转换为数字，如果转换失败，才判断为 NaN。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">123</span>;</span><br><span class="line">b = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">c = <span class="string">&quot;123ww&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="title class_">NaN</span>)); <span class="comment">//true   </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(a));   <span class="comment">//false  因为字符串不能转换为数字</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(b));   <span class="comment">//false  因为字符串不能转换为数字</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(c));   <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//NaN 与任何值比较都是返回 NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NaN</span>===<span class="title class_">NaN</span>);  <span class="comment">//false</span></span><br></pre></td></tr></table></figure>



<p>**<code>isFinite</code>**：</p>
<ul>
<li><code>isFinite</code> 函数用来检查其参数是否是一个有限数值。</li>
<li>如果参数是有限数值，即不是无穷大（Infinity 或 -Infinity），也不是 NaN，则返回 <code>true</code>。</li>
<li><code>isFinite</code> 不会尝试将参数转换为数字，它只检查参数本身的值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">isFinite</span>(<span class="title class_">Infinity</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isFinite</span>(-<span class="title class_">Infinity</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="title class_">NaN</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="number">0</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="string">&quot;Hello&quot;</span>); <span class="comment">// false，因为是非数值</span></span><br><span class="line"><span class="built_in">isFinite</span>(<span class="string">&quot;123&quot;</span>); <span class="comment">// false，因为是非数值</span></span><br><span class="line"><span class="comment">//想看输出值，记得加 console.log</span></span><br></pre></td></tr></table></figure>

<h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><ul>
<li><strong>检查范围</strong>：<ul>
<li><code>isNaN</code> 专门用来检查 NaN。</li>
<li><code>isFinite</code> 用来检查数值是否有限，即不是无穷大或 NaN。</li>
</ul>
</li>
<li><strong>类型转换</strong>：<ul>
<li><code>isNaN</code> 会进行类型转换，尝试将参数转换为数值。</li>
<li><code>isFinite</code> 不会进行类型转换，只检查传入的原始值。</li>
</ul>
</li>
<li><strong>用途</strong>：<ul>
<li>当你需要确定一个值是否是 NaN 时，使用 <code>isNaN</code>。</li>
<li>当你需要确定一个值是否是有限数值时，使用 <code>isFinite</code>。</li>
</ul>
</li>
</ul>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li><code>isNaN</code> 函数在没有参数的情况下会返回 <code>false</code>，这是与其他全局函数（如 <code>typeof</code> 和 <code>isFinite</code>）不同的行为。</li>
<li>由于 <code>isNaN</code> 的类型转换特性，如果你想严格检查一个值是否为 NaN，应该使用 <code>Number.isNaN()</code> 方法。</li>
</ul>
<p>在实际编程中，选择 <code>isNaN</code> 还是 <code>isFinite</code> 取决于你要解决的问题和你要检查的值的类型。</p>
<ul>
<li>请注意，在所有数字函数中，包括 <code>isFinite</code>，空字符串或仅有空格的字符串均被视为 <code>0</code>。</li>
</ul>
<hr>
<h3 id="提取文本串中开头的数字"><a href="#提取文本串中开头的数字" class="headerlink" title="提取文本串中开头的数字"></a>提取文本串中开头的数字</h3><p>现实生活中，我们经常会有带有单位的值，例如 CSS 中的 <code>&quot;100px&quot;</code> 或 <code>&quot;12pt&quot;</code>。并且，在很多国家，货币符号是紧随金额之后的，所以我们有 <code>&quot;19￥&quot;</code>，并希望从中提取出一个数值。</p>
<p>这就是 <code>parseInt</code> 和 <code>parseFloat</code> 的作用。</p>
<h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li><code>parseInt</code> 和 <code>parseFloat</code> 都不会自动转换字符串中的数据类型。如果字符串的第一个字符不能被转换，它们会立即返回 <code>NaN</code>。</li>
<li>如果没有提供基数给 <code>parseInt</code>，它将尝试根据字符串来判断基数。例如，如果字符串以 <code>&quot;0x&quot;</code> 开头，它将尝试将字符串解析为十六进制数。</li>
<li>如果使用 <code>parseInt</code> 解析字符串时提供了基数，但字符串不符合该基数的数值格式，它会返回解析到的错误结果或 <code>NaN</code>。</li>
<li><code>parseFloat</code> 不能解析科学记数法表示的数字，而 <code>parseInt</code> 可以。</li>
<li>它们都会忽略字符串前面的空格，直到找到第一个非数字字符为止。</li>
</ul>
<p>在实际使用中，你应该根据需要转换的数值类型来选择合适的函数。如果你需要整数，使用 <code>parseInt</code>；如果你需要浮点数，使用 <code>parseFloat</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;10&quot;</span>);        <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;10.00&quot;</span>);      <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;10.95&quot;</span>);      <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;34 45 66&quot;</span>);   <span class="comment">// 34</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;   60   &quot;</span>);  <span class="comment">// 60</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;40 years&quot;</span>, <span class="number">10</span>); <span class="comment">// 40</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;Days10&quot;</span>, <span class="number">10</span>); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;11&quot;</span>, <span class="number">2</span>);      <span class="comment">// 3，因为 &quot;11&quot; 是二进制表示</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;10&quot;</span>);       <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;10.00&quot;</span>);     <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;10.95&quot;</span>);     <span class="comment">// 10.95</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;34.45 66&quot;</span>);  <span class="comment">// 34.45</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;   60.123   &quot;</span>); <span class="comment">// 60.123</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;40 years&quot;</span>); <span class="comment">// 40</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;Days10&quot;</span>, <span class="number">10</span>); <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>





<h3 id="数字函数"><a href="#数字函数" class="headerlink" title="数字函数"></a>数字函数</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math">数字函数</a> </p>
<p>学生生涯中常见的基础函数，都覆盖到了。</p>
<p>例如随机数、三角函数、幂函数、对数、标准圆周率等等。</p>
<hr>
<h3 id="变量的数据类型转换"><a href="#变量的数据类型转换" class="headerlink" title="变量的数据类型转换"></a>变量的数据类型转换</h3><ul>
<li>转换成字符串</li>
<li>转换成数字</li>
<li>转换成布尔</li>
</ul>
<p>大多数情况下，运算符和函数会自动将赋予它们的值转换为正确的类型。</p>
<p>比如，<code>console.log</code> 会自动将任何值都转换为字符串以进行显示。算术运算符会将值转换为数字。</p>
<p>在某些情况下，我们需要将值主动地转换为我们期望的类型。</p>
<h4 id="转换成字符串"><a href="#转换成字符串" class="headerlink" title="转换成字符串"></a><strong>转换成字符串</strong></h4><p>我们也可以显式地调用 <code>String(value)</code> 来将 <code>value</code> 转换为字符串类型：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value = <span class="literal">true</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> value); <span class="comment">// boolean</span></span><br><span class="line"></span><br><span class="line">value = <span class="title class_">String</span>(value); <span class="comment">// 现在，值是一个字符串形式的 &quot;true&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> value); <span class="comment">// string</span></span><br></pre></td></tr></table></figure>

<p>字符串转换最明显。<code>false</code> 变成 <code>&quot;false&quot;</code>，<code>null</code> 变成 <code>&quot;null&quot;</code> 等。</p>
<h4 id="转换成数字"><a href="#转换成数字" class="headerlink" title="转换成数字"></a><strong>转换成数字</strong></h4><p>在算术函数和表达式中，会自动进行 number 类型转换。</p>
<p>比如，当把除法 <code>/</code> 用于非 number 类型：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;6&quot;</span> / <span class="string">&quot;2&quot;</span> ); <span class="comment">// 3, string 类型的值被自动转换成 number 类型后进行计算</span></span><br></pre></td></tr></table></figure>

<p>我们也可以使用 <code>Number(value)</code> 显式地将这个 <code>value</code> 转换为 number 类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> str); <span class="comment">// string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> num = <span class="title class_">Number</span>(str); <span class="comment">// 变成 number 类型 123</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> num); <span class="comment">// number</span></span><br></pre></td></tr></table></figure>

<p>当我们从 string 类型源（如文本表单）中读取一个值，但期望输入一个数字时，通常需要进行显式转换。</p>
<p>如果该字符串不是一个有效的数字，转换的结果会是 <code>NaN</code>。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="title class_">Number</span>(<span class="string">&quot;an arbitrary string instead of a number&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age); <span class="comment">// NaN，转换失败</span></span><br></pre></td></tr></table></figure>

<p>number 类型转换规则：</p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">变成……</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>undefined</code></td>
<td align="left"><code>NaN</code></td>
</tr>
<tr>
<td align="left"><code>null</code></td>
<td align="left"><code>0</code></td>
</tr>
<tr>
<td align="left"><code>true 和 false</code></td>
<td align="left"><code>1</code> and <code>0</code></td>
</tr>
<tr>
<td align="left"><code>string</code></td>
<td align="left">去掉首尾空白字符（空格、换行符 <code>\n</code>、制表符 <code>\t</code> 等）后的纯数字字符串中含有的数字。如果剩余字符串为空，则转换结果为 <code>0</code>。否则，将会从剩余字符串中“读取”数字。当类型转换出现 error 时返回 <code>NaN</code>。</td>
</tr>
</tbody></table>
<p>例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Number</span>(<span class="string">&quot;   123   &quot;</span>) ); <span class="comment">// 123</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Number</span>(<span class="string">&quot;123z&quot;</span>) );      <span class="comment">// NaN（从字符串“读取”数字，读到 &quot;z&quot; 时出现错误）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Number</span>(<span class="literal">true</span>) );        <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Number</span>(<span class="literal">false</span>) );       <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p>请注意 <code>null</code> 和 <code>undefined</code> 在这有点不同：<code>null</code> 变成数字 <code>0</code>，<code>undefined</code> 变成 <code>NaN</code>。</p>
<p>大多数数学运算符都执行这种转换，我们将在下一节中进行介绍。</p>
<h4 id="转换成布尔（boolean）类型"><a href="#转换成布尔（boolean）类型" class="headerlink" title="转换成布尔（boolean）类型"></a><strong>转换成布尔（boolean）类型</strong></h4><p>它发生在逻辑运算中（稍后我们将进行条件判断和其他类似的东西），但是也可以通过调用 Boolean(value) 显式地进行转换。</p>
<p>转换规则如下：</p>
<ul>
<li>直观上为“空”的值（如 <code>0</code>、空字符串、<code>null</code>、<code>undefined</code> 和 <code>NaN</code>）将变为 <code>false</code>。</li>
<li>其他值变成 <code>true</code>。</li>
</ul>
<p>比如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Boolean</span>(<span class="number">1</span>) ); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Boolean</span>(<span class="number">0</span>) ); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Boolean</span>(<span class="string">&quot;hello&quot;</span>) ); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Boolean</span>(<span class="string">&quot;&quot;</span>) ); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p><strong>请注意：包含 0 的字符串 <code>&quot;0&quot;</code> 是 <code>true</code></strong></p>
<p>一些编程语言（比如 PHP）视 <code>&quot;0&quot;</code> 为 <code>false</code>。但在 JavaScript 中，非空的字符串总是 <code>true</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Boolean</span>(<span class="string">&quot;0&quot;</span>) ); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Boolean</span>(<span class="string">&quot; &quot;</span>) ); <span class="comment">// 空格，也是 true（任何非空字符串都是 true）</span></span><br></pre></td></tr></table></figure>



<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>有三种常用的类型转换：转换为 string 类型、转换为 number 类型和转换为 boolean 类型。</p>
<p><strong>字符串转换</strong> —— 转换发生在输出内容的时候，也可以通过 <code>String(value)</code> 进行显式转换。原始类型值的 string 类型转换通常是很明显的。</p>
<p><strong>数字型转换</strong> —— 转换发生在进行算术操作时，也可以通过 <code>Number(value)</code> 进行显式转换。</p>
<p>数字型转换遵循以下规则：</p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">变成……</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>undefined</code></td>
<td align="left"><code>NaN</code></td>
</tr>
<tr>
<td align="left"><code>null</code></td>
<td align="left"><code>0</code></td>
</tr>
<tr>
<td align="left"><code>true / false</code></td>
<td align="left"><code>1 / 0</code></td>
</tr>
<tr>
<td align="left"><code>string</code></td>
<td align="left">“按原样读取”字符串，两端的空白字符（空格、换行符 <code>\n</code>、制表符 <code>\t</code> 等）会被忽略。空字符串变成 <code>0</code>。转换出错则输出 <code>NaN</code>。</td>
</tr>
</tbody></table>
<p><strong>布尔型转换</strong> —— 转换发生在进行逻辑操作时，也可以通过 <code>Boolean(value)</code> 进行显式转换。</p>
<p>布尔型转换遵循以下规则：</p>
<table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">变成……</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>0</code>, <code>null</code>, <code>undefined</code>, <code>NaN</code>, <code>&quot;&quot;</code></td>
<td align="left"><code>false</code></td>
</tr>
<tr>
<td align="left">其他值</td>
<td align="left"><code>true</code></td>
</tr>
</tbody></table>
<p>上述的大多数规则都容易理解和记忆。人们通常会犯错误的值得注意的例子有以下几个：</p>
<ul>
<li>对 <code>undefined</code> 进行数字型转换时，输出结果为 <code>NaN</code>，而非 <code>0</code>。</li>
<li>对 <code>&quot;0&quot;</code> 和只有空格的字符串（比如：<code>&quot; &quot;</code>）进行布尔型转换时，输出结果为 <code>true</code>。</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://zh.javascript.info/type-conversions">https://zh.javascript.info/type-conversions</a></p>
<hr>
<h1 id="数学运算"><a href="#数学运算" class="headerlink" title="数学运算"></a>数学运算</h1><h2 id="术语：“一元运算符”，“二元运算符”，“运算元”"><a href="#术语：“一元运算符”，“二元运算符”，“运算元”" class="headerlink" title="术语：“一元运算符”，“二元运算符”，“运算元”"></a>术语：“一元运算符”，“二元运算符”，“运算元”</h2><p>在正式开始前，我们先简单浏览一下常用术语。</p>
<ul>
<li><p><strong>运算元</strong> —— 运算符应用的对象。比如说乘法运算 <code>5 * 2</code>，有两个运算元：左运算元 <code>5</code> 和右运算元 <code>2</code>。有时候人们也称其为“参数”而不是“运算元”。</p>
</li>
<li><p>如果一个运算符对应的只有一个运算元，那么它是 <strong>一元运算符</strong>。比如说一元负号运算符 <code>-</code>，它的作用是对数字进行正负转换：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">x = -x;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( x ); <span class="comment">// -1，一元负号运算符生效</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果一个运算符拥有两个运算元，那么它是 <strong>二元运算符</strong>。<br>例如，减号还存在二元运算符形式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>, y = <span class="number">3</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( y - x ); <span class="comment">// 2，二元运算符减号做减运算</span></span><br></pre></td></tr></table></figure>

<p>严格地说，在上面的示例中，我们使用一个相同的符号表征了两个不同的运算符：①负号运算符，即反转符号的一元运算符；②减法运算符，是从另一个数减去一个数的二元运算符。</p>
</li>
</ul>
<h2 id="数学运算-1"><a href="#数学运算-1" class="headerlink" title="数学运算"></a>数学运算</h2><p>支持以下数学运算：</p>
<ul>
<li>加法 <code>+</code>,</li>
<li>减法 <code>-</code>,</li>
<li>乘法 <code>*</code>,</li>
<li>除法 <code>/</code>,</li>
<li>取余 <code>%</code>,</li>
<li>求幂 <code>**</code>.</li>
</ul>
<p>前四个都很简单，而 <code>%</code> 和 <code>**</code> 则需要说一说。</p>
<h3 id="取余"><a href="#取余" class="headerlink" title="取余 %"></a>取余 %</h3><p>取余运算符是 <code>%</code>，尽管它看起来很像百分数，但实际并无关联。</p>
<p><code>a % b</code> 的结果是 <code>a</code> 整除 <code>b</code> 的 余数。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">13</span> % <span class="number">2</span> ); <span class="comment">// 输出 1，   13 除以 2 的余数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">20</span> % <span class="number">3</span> ); <span class="comment">// 输出 2，   20 除以 3 的余数</span></span><br></pre></td></tr></table></figure>

<h3 id="求幂"><a href="#求幂" class="headerlink" title="求幂 **"></a>求幂 **</h3><p>求幂运算 <code>a ** b</code> ，将 <code>a</code> 提升至 <code>a</code> 的 <code>b</code> 次幂。</p>
<p>在数学运算中我们将其表示为 a <sup> b </sup>。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> ** <span class="number">2</span> ); <span class="comment">// 2 ² = 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> ** <span class="number">3</span> ); <span class="comment">// 2 ³ = 8</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> ** <span class="number">4</span> ); <span class="comment">// 2 ⁴ = 16</span></span><br></pre></td></tr></table></figure>

<p>就像在数学运算中一样，幂运算也适用于非整数。</p>
<p>例如，平方根是指数为 ½ 的幂运算：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">4</span> ** (<span class="number">1</span>/<span class="number">2</span>) ); <span class="comment">// 2     （1/2 次方与平方根相同)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">8</span> ** (<span class="number">1</span>/<span class="number">3</span>) ); <span class="comment">// 2     （1/3 次方与立方根相同)</span></span><br></pre></td></tr></table></figure>

<h2 id="用二元运算符-连接字符串"><a href="#用二元运算符-连接字符串" class="headerlink" title="用二元运算符 +         连接字符串"></a>用二元运算符 +         连接字符串</h2><p>通常，加号 <code>+</code> 用于求和。</p>
<p>但是如果加号 <code>+</code> 被应用于字符串，它将合并（连接）各个字符串：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&quot;my&quot;</span> + <span class="string">&quot;string&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s); <span class="comment">// mystring</span></span><br></pre></td></tr></table></figure>

<p>注意：只要任意一个运算元是字符串，那么另一个运算元也将被转化为字符串。</p>
<p>举个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;1&#x27;</span> + <span class="number">2</span> ); <span class="comment">// &quot;12&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> + <span class="string">&#x27;1&#x27;</span> ); <span class="comment">// &quot;21&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> + <span class="string">&#x27;天&#x27;</span> ); <span class="comment">// &quot;2 天&quot;</span></span><br></pre></td></tr></table></figure>

<p>你看，第一个运算元和第二个运算元，哪个是字符串并不重要，只要其中任意一个是字符串，那么由 <code>+</code> 连接的两个运算元都会默认转换成字符串拼接起来。</p>
<p>下面是一个更复杂的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span> + <span class="number">2</span> + <span class="string">&#x27;1&#x27;</span> ); <span class="comment">// &quot;41&quot;，不是 &quot;221&quot;</span></span><br></pre></td></tr></table></figure>

<p>在这里，运算符 <code>+</code> 是按顺序工作（加法默认是从左到右）。第一个 <code>+</code> 将两个数字相加，所以返回 <code>4</code>，然后下一个 <code>+</code> 将字符串 <code>1</code> 加入其中，所以就是 <code>4 + &#39;1&#39; = &#39;41&#39;</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1&#x27;</span> + <span class="number">2</span> + <span class="number">2</span>); <span class="comment">// &quot;122&quot;，不是 &quot;14&quot;</span></span><br></pre></td></tr></table></figure>

<p>这里，第一个操作数是一个字符串，所以编译器将其他两个操作数也视为了字符串。<code>2</code> 被与 <code>&#39;1&#39;</code> 连接到了一起，也就是像 <code>&#39;1&#39; + 2 = &quot;12&quot;</code> 然后 <code>&quot;12&quot; + 2 = &quot;122&quot;</code> 这样。</p>
<p>二元 <code>+</code> 是唯一一个以这种方式支持字符串的运算符。<br>其他算术运算符只对数字起作用，并且总是将其运算元转换为数字。</p>
<p>下面是减法和除法运算的示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">6</span> - <span class="string">&#x27;2&#x27;</span> ); <span class="comment">// 4，将 &#x27;2&#x27; 转换为数字</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;6&#x27;</span> / <span class="string">&#x27;2&#x27;</span> ); <span class="comment">// 3，将两个运算元都转换为数字</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">12</span> - <span class="string">&quot;string&quot;</span>); <span class="comment">// NaN  带有非数字的文本串无法转为数字</span></span><br></pre></td></tr></table></figure>

<h2 id="数字转化，一元运算符"><a href="#数字转化，一元运算符" class="headerlink" title="数字转化，一元运算符 +"></a>数字转化，一元运算符 +</h2><p>加号 <code>+</code> 有两种形式。一种是上面我们刚刚讨论的二元运算符，还有一种是一元运算符。</p>
<p>一元运算符加号，或者说，加号 <code>+</code> 应用于单个值，对数字没有任何作用。<br>但是如果运算元不是数字，加号 <code>+</code> 则会将其转化为数字。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对数字无效（因为数学里面学过，在数字前面加正号没啥用）</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( +x ); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> y = -<span class="number">2</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( +y ); <span class="comment">// -2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 转化非数字</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( +<span class="literal">true</span> ); <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( +<span class="string">&quot;&quot;</span> );   <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(+<span class="string">&quot;11KB&quot;</span>); <span class="comment">// NaN  带有非数字的文本串无法转为数字</span></span><br></pre></td></tr></table></figure>

<p>它的效果和 <code>Number(...)</code> 相同，但是更加简短。</p>
<p>我们经常会有将字符串转化为数字的需求。比如，如果我们正在从 HTML 表单中取值，通常得到的都是字符串。如果我们想对它们求和，该怎么办？</p>
<p>二元运算符加号会把它们合并成字符串：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> apples = <span class="string">&quot;2&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> oranges = <span class="string">&quot;3&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( apples + oranges ); <span class="comment">// &quot;23&quot;，二元运算符加号合并字符串</span></span><br></pre></td></tr></table></figure>

<p>如果我们想把它们当做数字对待，我们需要转化它们，然后再求和：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> apples = <span class="string">&quot;2&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> oranges = <span class="string">&quot;3&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在二元运算符加号起作用之前，所有的值都被转化为了数字</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( +apples + +oranges ); <span class="comment">// 5</span></span><br><span class="line"><span class="comment">//如果你害怕眼花，可以加括号进行区分，括号的运算是最优先的</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( (+apples) + (+oranges) ); <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 更长的写法</span></span><br><span class="line"><span class="comment">// console.log( Number(apples) + Number(oranges) ); // 5</span></span><br></pre></td></tr></table></figure>
<p>一元运算符加号首先起作用，它们将字符串转为数字，然后二元运算符加号对它们进行求和。</p>
<p>为什么一元运算符先于二元运算符作用于运算元？<br>这是由于它们拥有 <strong>更高的优先级</strong>。</p>
<h2 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h2><p>如果一个表达式拥有多个运算符，执行的顺序则由 <strong>优先级</strong> 决定。换句话说，所有的运算符中都隐含着优先级顺序。</p>
<p>我们知道在表达式 <code>1 + 2 * 2</code> 中，乘法先于加法计算。<br>这就是一个优先级问题。乘法比加法拥有 <strong>更高的优先级</strong>。</p>
<p>圆括号拥有 <strong>最高优先级</strong> ，所以如果我们对现有的运算顺序不满意，我们可以使用圆括号来修改运算顺序，就像这样：<code>(1 + 2) * 2</code>。</p>
<p><strong>不要觉得加多了括号丑，对于新手，为了减轻学习压力以及避免优先级错误，就应该多用括号。</strong><br><strong>因为括号的优先级是最高的，你只要用了括号，下面这张表中的运算优先级你都可以不用去记。</strong></p>
<p>在 JavaScript 中有众多运算符。每个运算符都有对应的优先级数字。数字越大，越先执行。如果优先级相同，则按照由左至右的顺序执行。</p>
<p>这是一个摘抄自 Mozilla 的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">优先级表</a>（你没有必要把这全记住，但要记住一元运算符优先级高于二元运算符）：</p>
<table>
<thead>
<tr>
<th align="left">优先级</th>
<th align="left">名称</th>
<th align="left">符号</th>
</tr>
</thead>
<tbody><tr>
<td align="left">…</td>
<td align="left">…</td>
<td align="left">…</td>
</tr>
<tr>
<td align="left">15</td>
<td align="left">一元加号</td>
<td align="left"><code>+</code></td>
</tr>
<tr>
<td align="left">15</td>
<td align="left">一元负号</td>
<td align="left"><code>-</code></td>
</tr>
<tr>
<td align="left">14</td>
<td align="left">求幂</td>
<td align="left"><code>**</code></td>
</tr>
<tr>
<td align="left">13</td>
<td align="left">乘号</td>
<td align="left"><code>*</code></td>
</tr>
<tr>
<td align="left">13</td>
<td align="left">除号</td>
<td align="left"><code>/</code></td>
</tr>
<tr>
<td align="left">12</td>
<td align="left">加号</td>
<td align="left"><code>+</code></td>
</tr>
<tr>
<td align="left">12</td>
<td align="left">减号</td>
<td align="left"><code>-</code></td>
</tr>
<tr>
<td align="left">…</td>
<td align="left">…</td>
<td align="left">…</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">赋值符</td>
<td align="left"><code>=</code></td>
</tr>
<tr>
<td align="left">…</td>
<td align="left">…</td>
<td align="left">…</td>
</tr>
</tbody></table>
<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>我们知道赋值符号 <code>=</code> 也是一个运算符。从优先级表中可以看到它的优先级非常低，只有 <code>2</code>。</p>
<p>当我们赋值时，比如 <code>x = 2 * 2 + 1</code>，所有的计算先执行，然后 <code>=</code> 才执行，将计算结果存储到 <code>x</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">2</span> * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( x ); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<h3 id="赋值-返回一个值"><a href="#赋值-返回一个值" class="headerlink" title="赋值 &#x3D; 返回一个值"></a>赋值 &#x3D; 返回一个值</h3><p><code>=</code> 是一个运算符，而不是一个有着“魔法”作用的语言结构。</p>
<p>在 JavaScript 中，所有运算符都会返回一个值。这对于 <code>+</code> 和 <code>-</code> 来说是显而易见的，但对于 <code>=</code> 来说也是如此。</p>
<p>语句 <code>x = value</code> 将值 <code>value</code> 写入 <code>x</code> 。</p>
<p>下面是一个在复杂语句中使用赋值的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = <span class="number">3</span> - (a = b + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( a ); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( c ); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p>上面这个例子，<code>(a = b + 1)</code> 的结果是给 <code>a</code> 赋值为 <code>3</code>。然后该值被用于进一步的运算。</p>
<p>不过，请不要写这样的代码。这样的技巧绝对不会使代码变得更清晰或可读。</p>
<h3 id="链式赋值（Chaining-assignments）"><a href="#链式赋值（Chaining-assignments）" class="headerlink" title="链式赋值（Chaining assignments）"></a>链式赋值（Chaining assignments）</h3><p>另一个有趣的特性是链式赋值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a, b, c;</span><br><span class="line"></span><br><span class="line">a = b = c = <span class="number">2</span> + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( a ); <span class="comment">// 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( b ); <span class="comment">// 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( c ); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p>链式赋值从右到左进行计算。<br>首先，对最右边的表达式 <code>2 + 2</code> 求值，<br>然后将其赋给左边的变量：<code>c</code>、<code>b</code> 和 <code>a</code>。<br>最后，所有的变量共享一个值。</p>
<p>同样，出于可读性，最好将这种代码分成几行：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c = <span class="number">2</span> + <span class="number">2</span>;</span><br><span class="line">b = c;</span><br><span class="line">a = c;</span><br></pre></td></tr></table></figure>

<p>这样可读性更强，尤其是在快速浏览代码的时候。</p>
<h2 id="原地修改"><a href="#原地修改" class="headerlink" title="原地修改"></a>原地修改</h2><p>我们经常需要对一个变量做运算，并将新的结果存储在同一个变量中。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = <span class="number">2</span>;</span><br><span class="line">n = n + <span class="number">5</span>;</span><br><span class="line">n = n * <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>可以使用运算符 <code>+=</code> 和 <code>*=</code> 来缩写这种表示。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = <span class="number">2</span>;</span><br><span class="line">n += <span class="number">5</span>; <span class="comment">// 现在 n = 7（等同于 n = n + 5）</span></span><br><span class="line">n *= <span class="number">2</span>; <span class="comment">// 现在 n = 14（等同于 n = n * 2）</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( n ); <span class="comment">// 14</span></span><br></pre></td></tr></table></figure>

<p>所有算术和位运算符都有简短的“修改并赋值”运算符：<code>/=</code> 和 <code>-=</code> 等。</p>
<p>这类运算符的优先级与普通赋值运算符的优先级相同，所以它们在大多数其他运算之后执行：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">n *= <span class="number">3</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( n ); <span class="comment">// 16 （右边部分先被计算，等同于 n *= 8）</span></span><br></pre></td></tr></table></figure>

<h2 id="自增-自减"><a href="#自增-自减" class="headerlink" title="自增&#x2F;自减"></a>自增&#x2F;自减</h2><p>对一个数进行加一、减一是最常见的数学运算符之一。</p>
<p>所以，对此有一些专门的运算符：</p>
<ul>
<li><p><strong>自增</strong> <code>++</code> 将变量与 1 相加：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">2</span>;</span><br><span class="line">counter++;      <span class="comment">// 和 counter = counter + 1 效果一样，但是更简洁</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( counter ); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>自减</strong> <code>--</code> 将变量与 1 相减：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">5</span>;</span><br><span class="line">counter--;      <span class="comment">// 和 counter = counter - 1 效果一样，但是更简洁</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( counter ); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>重要：</strong></p>
<p>自增&#x2F;自减只能应用于变量。试一下，将其应用于普通数字（比如 <code>5++</code>）则会报错。</p>
<p>运算符 <code>++</code> 和 <code>--</code> 可以置于变量前，也可以置于变量后。</p>
<ul>
<li>当运算符置于变量后，被称为“后置形式”：<code>counter++</code>。</li>
<li>当运算符置于变量前，被称为“前置形式”：<code>++counter</code>。</li>
</ul>
<p>两者都做同一件事：将变量 <code>counter</code> 与 <code>1</code> 相加。</p>
<p>那么它们有区别吗？有，但只有当我们使用 <code>++/--</code> 的返回值时才能看到区别。</p>
<p>详细点说。我们知道，所有的运算符都有返回值。自增&#x2F;自减也不例外。前置形式返回一个新的值，但后置返回原来的值（做加法&#x2F;减法之前的值）。</p>
<p>为了直观看到区别，看下面的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> a = ++counter; <span class="comment">// (*)</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p><code>(*)</code> 所在的行是前置形式 <code>++counter</code>，对 <code>counter</code> 做自增运算，返回的是新的值 <code>2</code>。因此 <code>console.log</code> 显示的是 <code>2</code>。</p>
<p>下面让我们看看后置形式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> a = counter++; <span class="comment">// (*) 将 ++counter 改为 counter++</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<p><code>(*)</code> 所在的行是后置形式 <code>counter++</code>，它同样对 <code>counter</code> 做加法，但是返回的是 <strong>旧值</strong>（做加法之前的值）。因此 <code>console.log</code> 显示的是 <code>1</code>。</p>
<p>总结：</p>
<ul>
<li><p>如果自增&#x2F;自减的值不会被使用，那么两者形式没有区别：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">0</span>;</span><br><span class="line">counter++;</span><br><span class="line">++counter;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( counter ); <span class="comment">// 2，以上两行作用相同</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果我们想要对变量进行自增操作，<strong>并且</strong> 需要立刻使用自增后的值，那么我们需要使用前置形式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( ++counter ); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果我们想要将一个数加一，但是我们想使用其自增之前的值，那么我们需要使用后置形式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( counter++ ); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>自增&#x2F;自减和其它运算符的对比</strong></p>
<p><code>++/--</code> 运算符同样可以在表达式内部使用。它们的优先级比绝大部分的算数运算符要高。</p>
<p>举个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> * ++counter ); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<p>与下方例子对比：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> * counter++ ); <span class="comment">// 2，因为 counter++ 返回的是“旧值”</span></span><br></pre></td></tr></table></figure>

<p>尽管从技术层面上来说可行，但是这样的写法会降低代码的可阅读性。在一行上做多个操作 —— 这样并不好。</p>
<p>当阅读代码时，快速的视觉“纵向”扫描会很容易漏掉 <code>counter++</code>，这样的自增操作并不明显。</p>
<p>我们建议用“一行一个行为”的模式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> * counter );</span><br><span class="line">counter++;</span><br></pre></td></tr></table></figure>

<h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><p>了解即可，前端开发过程中用的很少。<br>位运算符把运算元当做 32 位整数，并在它们的二进制表现形式上操作。</p>
<p>这些运算符不是 JavaScript 特有的。大部分的编程语言都支持这些运算符。</p>
<p>下面是位运算符：</p>
<ul>
<li>按位与 ( <code>&amp;</code> )</li>
<li>按位或 ( <code>|</code> )</li>
<li>按位异或 ( <code>^</code> )</li>
<li>按位非 ( <code>~</code> )</li>
<li>左移 ( <code>&lt;&lt;</code> )</li>
<li>右移 ( <code>&gt;&gt;</code> )</li>
<li>无符号右移 ( <code>&gt;&gt;&gt;</code> )</li>
</ul>
<p>这些运算符很少被使用，一般是我们需要在最低级别（位）上操作数字时才使用。我们不会很快用到这些运算符，因为在 Web 开发中很少使用它们，但在某些特殊领域中，例如密码学，它们很有用。当你需要了解它们的时候，可以阅读 MDN 上的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#bitwise_operators">位操作符</a> 章节。</p>
<h2 id="逗号运算符"><a href="#逗号运算符" class="headerlink" title="逗号运算符"></a>逗号运算符</h2><p>逗号运算符 <code>,</code> 是最少见最不常使用的运算符之一。有时候它会被用来写更简短的代码，因此为了能够理解代码，我们需要了解它。</p>
<p>逗号运算符能让我们处理多个表达式，使用 <code>,</code> 将它们分开。每个表达式都运行了，但是只有最后一个的结果会被返回。</p>
<p>举个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = (<span class="number">1</span> + <span class="number">2</span>, <span class="number">3</span> + <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( a ); <span class="comment">// 7（3 + 4 的结果）</span></span><br></pre></td></tr></table></figure>

<p>这里，第一个表达式 <code>1 + 2</code> 运行了，但是它的结果被丢弃了。随后计算 <code>3 + 4</code>，并且该计算结果被返回。</p>
<p><strong>逗号运算符的优先级非常低</strong></p>
<p>请注意逗号运算符的优先级非常低，比 <code>=</code> 还要低，因此上面你的例子中圆括号非常重要。</p>
<p>如果没有圆括号：<code>a = 1 + 2, 3 + 4</code> 会先执行 <code>+</code>，将数值相加得到 <code>a = 3, 7</code>，然后赋值运算符 <code>=</code> 执行 <code>a = 3</code>，然后逗号之后的数值 <code>7</code> 不会再执行，它被忽略掉了。相当于 <code>(a = 1 + 2), 3 + 4</code>。</p>
<p>为什么我们需要这样一个运算符，它只返回最后一个值呢？</p>
<p>有时候，人们会使用它把几个行为放在一行上来进行复杂的运算。</p>
<p>举个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一行上有三个运算符</span></span><br><span class="line"><span class="keyword">for</span> (a = <span class="number">1</span>, b = <span class="number">3</span>, c = a * b; a &lt; <span class="number">10</span>; a++) </span><br><span class="line">&#123;</span><br><span class="line"> ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样的技巧在许多 JavaScript 框架中都有使用，这也是为什么我们提到它。但是通常它并不能提升代码的可读性，使用它之前，我们要想清楚。</p>
<hr>
<h1 id="值的比较"><a href="#值的比较" class="headerlink" title="值的比较"></a>值的比较</h1><p>我们知道，在数学中有很多用于比较大小的运算符。</p>
<p>在 JavaScript 中，它们的编写方式如下：</p>
<ul>
<li>大于 &#x2F; 小于：<code>a &gt; b</code>，<code>a &lt; b</code>。</li>
<li>大于等于 &#x2F; 小于等于：<code>a &gt;= b</code>，<code>a &lt;= b</code>。</li>
<li>检查两个值的相等：<code>a == b</code>，请注意双等号 <code>==</code> 表示相等性检查，而单等号 <code>a = b</code> 表示赋值。</li>
<li>检查两个值不相等：不相等在数学中的符号是 <code>≠</code>，但在 JavaScript 中写成 <code>a != b</code>。</li>
</ul>
<h2 id="比较的结果是-Boolean-类型"><a href="#比较的结果是-Boolean-类型" class="headerlink" title="比较的结果是 Boolean 类型"></a>比较的结果是 Boolean 类型</h2><p>所有比较运算符均返回布尔值：</p>
<ul>
<li><code>true</code> —— 表示“yes（是）”，“correct（正确）”或“the truth（真）”。</li>
<li><code>false</code> —— 表示“no（否）”，“wrong（错误）”或“not the truth（非真）”。</li>
</ul>
<p>示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> &gt; <span class="number">1</span> );  <span class="comment">// true（正确）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> == <span class="number">1</span> ); <span class="comment">// false（错误）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> != <span class="number">1</span> ); <span class="comment">// true（正确）</span></span><br></pre></td></tr></table></figure>

<p>和其他类型的值一样，比较的结果可以被赋值给任意变量：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="number">5</span> &gt; <span class="number">4</span>; <span class="comment">// 把比较的结果赋值给 result</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( result ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h2><p>在比较字符串的大小时，JavaScript 会使用“字典（dictionary）”或“词典（lexicographical）”顺序进行判定。</p>
<p>换言之，字符串是按字符（母）逐个进行比较的。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Z&#x27;</span> &gt; <span class="string">&#x27;A&#x27;</span> ); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Glow&#x27;</span> &gt; <span class="string">&#x27;Glee&#x27;</span> ); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Bee&#x27;</span> &gt; <span class="string">&#x27;Be&#x27;</span> ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>字符串的比较算法非常简单：</p>
<ol>
<li>首先比较两个字符串的首位字符大小。</li>
<li>如果一方字符较大（或较小），则该字符串大于（或小于）另一个字符串。算法结束。</li>
<li>否则，如果两个字符串的首位字符相等，则继续取出两个字符串各自的后一位字符进行比较。</li>
<li>重复上述步骤进行比较，直到比较完成某字符串的所有字符为止。</li>
<li>如果两个字符串的字符同时用完，那么则判定它们相等，否则未结束（还有未比较的字符）的字符串更大。</li>
</ol>
<p>在上面的第一个例子中，<code>&#39;Z&#39; &gt; &#39;A&#39;</code> 比较在算法的第 1 步就得到了结果。</p>
<p>在第二个例子中，字符串 <code>Glow</code> 与 <code>Glee</code> 的比较则需要更多步骤，因为需要逐个字符进行比较：</p>
<ol>
<li><code>G</code> 和 <code>G</code> 相等。</li>
<li><code>l</code> 和 <code>l</code> 相等。</li>
<li><code>o</code> 比 <code>e</code> 大，算法停止，第一个字符串大于第二个。</li>
</ol>
<p><strong>非真正的字典顺序，而是 Unicode 编码顺序</strong></p>
<p>在上面的算法中，比较大小的逻辑与字典或电话簿中的排序很像，但也不完全相同。</p>
<p>比如说，字符串比较对字母大小写是敏感的。大写的 <code>&quot;A&quot;</code> 并不等于小写的 <code>&quot;a&quot;</code>。哪一个更大呢？实际上小写的 <code>&quot;a&quot;</code> 更大。这是因为在 JavaScript 使用的内部编码表中（Unicode），小写字母的字符索引值更大。我们会在 <a target="_blank" rel="noopener" href="https://zh.javascript.info/string">字符串</a> 这章讨论更多关于字符串的细节。</p>
<h2 id="不同类型间的比较"><a href="#不同类型间的比较" class="headerlink" title="不同类型间的比较"></a>不同类型间的比较</h2><p>当对不同类型的值进行比较时，JavaScript 会首先将其转化为数字（number）再判定大小。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;2&#x27;</span> &gt; <span class="number">1</span> ); <span class="comment">// true，字符串 &#x27;2&#x27; 会被转化为数字 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;01&#x27;</span> == <span class="number">1</span> ); <span class="comment">// true，字符串 &#x27;01&#x27; 会被转化为数字 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;2wwww&#x27;</span> &gt; <span class="number">1</span> ); <span class="comment">//false，</span></span><br></pre></td></tr></table></figure>
<p>‘2wwww’ 不是一个有效的数字格式，它会被转换成 NaN，在 JavaScript 中，NaN 与任何值（包括它自己）的比较都是不相等的。</p>
<p>对于布尔类型值，<code>true</code> 会被转化为 <code>1</code>、<code>false</code> 转化为 <code>0</code>。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">true</span> == <span class="number">1</span> ); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">false</span> == <span class="number">0</span> ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p><strong>一个有趣的现象</strong></p>
<p>有时候，以下两种情况会同时发生：</p>
<ul>
<li>若直接比较两个值，其结果是相等的。</li>
<li>若把两个值转为布尔值，它们可能得出完全相反的结果，即一个是 <code>true</code>，一个是 <code>false</code>。</li>
</ul>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Boolean</span>(a) ); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&quot;0&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Boolean</span>(b) ); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a == b); <span class="comment">// true!</span></span><br></pre></td></tr></table></figure>

<p>对于 JavaScript 而言，这种现象其实挺正常的。因为 JavaScript 会把待比较的值转化为数字后再做比较（因此 <code>&quot;0&quot;</code> 变成了 <code>0</code>）。若只是将一个变量转化为 <code>Boolean</code> 值，则会使用其他的类型转换规则。</p>
<h2 id="严格相等"><a href="#严格相等" class="headerlink" title="严格相等"></a>严格相等</h2><p>普通的相等性检查 <code>==</code> 存在一个问题，它不能区分出 <code>0</code> 和 <code>false</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">0</span> == <span class="literal">false</span> ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>也同样无法区分空字符串和 <code>false</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;&#x27;</span> == <span class="literal">false</span> ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>这是因为在比较不同类型的值时，处于相等判断符号 <code>==</code> 两侧的值会先被转化为数字。空字符串和 <code>false</code> 也是如此，转化后它们都为数字 0。</p>
<p>如果我们需要区分 <code>0</code> 和 <code>false</code>，该怎么办？</p>
<p><strong>严格相等运算符 <code>===</code> 在进行比较时不会做任何的类型转换。</strong></p>
<p>换句话说，如果 <code>a</code> 和 <code>b</code> 属于不同的数据类型，那么 <code>a === b</code> 不会做任何的类型转换而立刻返回 <code>false</code>。</p>
<p>让我们试试：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">0</span> === <span class="literal">false</span> ); <span class="comment">// false，因为被比较值的数据类型不同</span></span><br></pre></td></tr></table></figure>

<p>同样的，与“不相等”符号 <code>!=</code> 类似，“严格不相等”表示为 <code>!==</code>。</p>
<p>严格相等的运算符虽然写起来稍微长一些，但是它能够很清楚地显示代码意图，降低你犯错的可能性。</p>
<h2 id="对-null-和-undefined-进行比较"><a href="#对-null-和-undefined-进行比较" class="headerlink" title="对 null 和 undefined 进行比较"></a>对 null 和 undefined 进行比较</h2><p>当使用 <code>null</code> 或 <code>undefined</code> 与其他值进行比较时，其返回结果常常出乎你的意料。</p>
<ul>
<li><p>当使用严格相等 <code>===</code> 比较二者时</p>
<p>它们不相等，因为它们属于不同的类型。<br><code>console.log( null === undefined ); // false</code></p>
</li>
<li><p>当使用非严格相等 <code>==</code> 比较二者时<br>JavaScript 存在一个特殊的规则，会判定它们相等。它们俩就像“一对恋人”，仅仅等于对方而不等于其他任何的值（只在非严格相等下成立）。<br><code>console.log( null == undefined ); // true</code></p>
</li>
<li><p>当使用数学式或其他比较方法 <code>&lt; &gt; &lt;= &gt;=</code> 时：<br><code>null/undefined</code> 会被转化为数字：<code>null</code> 被转化为 <code>0</code>，<code>undefined</code> 被转化为 <code>NaN</code>。</p>
</li>
</ul>
<p>下面让我们看看，这些规则会带来什么有趣的现象。同时更重要的是，我们需要从中学会如何远离这些特性带来的“陷阱”。</p>
<h3 id="奇怪的结果：null-vs-0"><a href="#奇怪的结果：null-vs-0" class="headerlink" title="奇怪的结果：null vs 0"></a>奇怪的结果：null vs 0</h3><p>通过比较 <code>null</code> 和 0 可得：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">null</span> &gt; <span class="number">0</span> );  <span class="comment">//  （1）false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">null</span> == <span class="number">0</span> ); <span class="comment">//  （2）false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">null</span> &gt;= <span class="number">0</span> ); <span class="comment">//  （3）true</span></span><br></pre></td></tr></table></figure>

<p>为什么会出现这种反常结果，这是因为相等性检查 <code>==</code> 和普通比较符 <code>&gt; &lt; &gt;= &lt;=</code> 的代码逻辑是相互独立的。<br>进行值的比较时，<code>null</code> 会被转化为数字，因此它被转化为了 <code>0</code>。这就是为什么（3）中 <code>null &gt;= 0</code> 返回值是 true，（1）中 <code>null &gt; 0</code> 返回值是 false。</p>
<p>另一方面，<code>undefined</code> 和 <code>null</code> 在相等性检查 <code>==</code> 中不会进行任何的类型转换，它们有自己独立的比较规则，所以除了它们之间互等外，不会等于任何其他的值。这就解释了为什么（2）中 <code>null == 0</code> 会返回 false。</p>
<h3 id="特立独行的-undefined"><a href="#特立独行的-undefined" class="headerlink" title="特立独行的 undefined"></a>特立独行的 undefined</h3><p><code>undefined</code> 不应该被与其他值进行比较：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">undefined</span> &gt; <span class="number">0</span> ); <span class="comment">// false (1)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">undefined</span> &lt; <span class="number">0</span> ); <span class="comment">// false (2)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">undefined</span> == <span class="number">0</span> ); <span class="comment">// false (3)</span></span><br></pre></td></tr></table></figure>

<p>为何它看起来如此厌恶 0？返回值都是 false！</p>
<p>原因如下：</p>
<ul>
<li><code>(1)</code> 和 <code>(2)</code> 都返回 <code>false</code> 是因为 <code>undefined</code> 在比较中被转换为了 <code>NaN</code>，而 <code>NaN</code> 是一个特殊的数值型值，它与任何值进行比较都会返回 <code>false</code>。</li>
<li><code>(3)</code> 返回 <code>false</code> 是因为这是一个相等性检查，而 <code>undefined</code> 只与 <code>null</code> 相等，不会与其他值相等。</li>
</ul>
<h3 id="避免问题"><a href="#避免问题" class="headerlink" title="避免问题"></a>避免问题</h3><p>我们为何要研究上述示例？我们需要时刻记得这些古怪的规则吗？不，其实不需要。虽然随着代码写得越来越多，我们对这些规则也都会烂熟于胸，但是我们需要更为可靠的方法来避免潜在的问题：</p>
<ul>
<li>除了严格相等 <code>===</code> 外，其他但凡是有 <code>undefined/null</code> 参与的比较，我们都需要格外小心。</li>
<li>除非你非常清楚自己在做什么，否则永远不要使用 <code>&gt;= &gt; &lt; &lt;=</code> 去比较一个可能为 <code>null/undefined</code> 的变量。对于取值可能是 <code>null/undefined</code> 的变量，请按需要分别检查它的取值情况。</li>
</ul>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><ul>
<li>比较运算符始终返回布尔值。</li>
<li>字符串的比较，会按照“词典”顺序逐字符地比较大小。</li>
<li>当对不同类型的值进行比较时，它们会先被转化为数字（不包括严格相等检查）再进行比较。</li>
<li>在非严格相等 <code>==</code> 下，<code>null</code> 和 <code>undefined</code> 相等且各自不等于任何其他的值。</li>
<li>在使用 <code>&gt;</code> 或 <code>&lt;</code> 进行比较时，需要注意变量可能为 <code>null/undefined</code> 的情况。比较好的方法是单独检查变量是否等于 <code>null/undefined</code>。</li>
</ul>
<hr>
<h1 id="条件分支：if-和-‘-’"><a href="#条件分支：if-和-‘-’" class="headerlink" title="条件分支：if 和 ‘?’"></a>条件分支：if 和 ‘?’</h1><p>有时我们需要根据不同条件执行不同的操作。</p>
<p>我们可以使用 <code>if</code> 语句和条件运算符 <code>?</code>（也称为“问号”运算符）来实现。</p>
<h2 id="“if”-语句"><a href="#“if”-语句" class="headerlink" title="“if” 语句"></a>“if” 语句</h2><p><code>if(...)</code> 语句计算括号里的条件表达式，如果计算结果是 <code>true</code>，就会执行对应的代码块。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> year = <span class="number">2024</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (year == <span class="number">2024</span>) </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;没错，今年正是2024年&#x27;</span> );</span><br></pre></td></tr></table></figure>

<p>在上面这个例子中，条件是一个简单的相等性检查（<code>year == 2024</code>），但它还可以更复杂。</p>
<p>如果有多个语句要执行，我们必须将要执行的代码块封装在大括号内：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> year = <span class="number">2024</span>;</span><br><span class="line"><span class="keyword">if</span> (year == <span class="number">2024</span>) </span><br><span class="line">&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;正确!&quot;</span> );</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;你真聪明!&quot;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>建议每次使用 if 语句都用大括号 <code>&#123;&#125;</code> 来包装代码块，即使只有一条语句。这样可以提高代码可读性。</p>
<h2 id="布尔转换"><a href="#布尔转换" class="headerlink" title="布尔转换"></a>布尔转换</h2><p><code>if (…)</code> 语句会计算圆括号内的表达式，并将计算结果转换为布尔型。</p>
<p>让我们回顾一下 <a target="_blank" rel="noopener" href="https://zh.javascript.info/type-conversions">类型转换</a> 一章中的转换规则：</p>
<ul>
<li>数字 <code>0</code>、空字符串 <code>&quot;&quot;</code>、<code>null</code>、<code>undefined</code> 和 <code>NaN</code> 都会被转换成 <code>false</code>。因为它们被称为“假值（falsy）”。</li>
<li>其他值被转换为 <code>true</code>，所以它们被称为“真值（truthy）”。</li>
</ul>
<p>所以，下面这个条件下的代码永远不会执行：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">0</span>) &#123; <span class="comment">// 0 是假值（falsy）</span></span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>……但下面的条件 —— 始终有效：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">1</span>) &#123; <span class="comment">// 1 是真值（truthy）</span></span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们也可以将预先计算的布尔值传入 <code>if</code> 语句，像这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> year = <span class="number">2024</span>;</span><br><span class="line"><span class="keyword">let</span> cond = (year == <span class="number">2024</span>); <span class="comment">// 相等运算符的结果是 true 或 false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (cond) </span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="“else”-语句"><a href="#“else”-语句" class="headerlink" title="“else” 语句"></a>“else” 语句</h2><p><code>if</code> 语句有时会包含一个可选的 “else” 块。如果判断条件不成立，就会执行它内部的代码。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> year = <span class="number">2025</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (year == <span class="number">2024</span>) </span><br><span class="line">&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;年份不对哦&#x27;</span> );</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;只要不等于2024，都会看到这句话&#x27;</span> ); <span class="comment">// 2024 以外的任何值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="多个条件：“else-if”"><a href="#多个条件：“else-if”" class="headerlink" title="多个条件：“else if”"></a>多个条件：“else if”</h2><p>有时我们需要测试一个条件的几个变体。我们可以通过使用 <code>else if</code> 子句实现。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> year = <span class="number">2022</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (year &lt; <span class="number">2024</span>) </span><br><span class="line">&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Too early...&#x27;</span> );</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (year &gt; <span class="number">2024</span>) </span><br><span class="line">&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Too late&#x27;</span> );</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Exactly!&#x27;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上面的代码中，JavaScript 先检查 <code>year &lt; 2024</code>。如果条件不符合，就会转到下一个条件 <code>year &gt; 2024</code>。如果这个条件也不符合，则会显示最后一个 <code>console.log</code>。</p>
<p>可以有更多的 <code>else if</code> 块。结尾的 <code>else</code> 是可选的。</p>
<h2 id="条件运算符-‘-’"><a href="#条件运算符-‘-’" class="headerlink" title="条件运算符 ‘?’"></a>条件运算符 ‘?’</h2><p>有时我们需要根据一个条件去赋值一个变量。</p>
<p>如下所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> accessAllowed;</span><br><span class="line"><span class="keyword">let</span> age = <span class="number">24</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (age &gt; <span class="number">18</span>) </span><br><span class="line">&#123;</span><br><span class="line">  accessAllowed = <span class="literal">true</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123;</span><br><span class="line">  accessAllowed = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(accessAllowed);</span><br></pre></td></tr></table></figure>

<p>所谓的“条件”或“问号”运算符让我们可以更简短地达到目的。</p>
<p>这个运算符通过问号 <code>?</code> 表示。有时它被称为三元运算符，被称为“三元”是因为该运算符中有三个操作数。实际上它是 JavaScript 中唯一一个有这么多操作数的运算符。</p>
<p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = condition ? value1 : value2;</span><br></pre></td></tr></table></figure>

<p>计算（condition）结果，如果结果为真，则返回 <code>value1</code>，否则返回 <code>value2</code>。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age =<span class="number">24</span>;</span><br><span class="line"><span class="keyword">let</span> accessAllowed = (age &gt; <span class="number">18</span>) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<p>技术上讲，我们可以省略 <code>age &gt; 18</code> 外面的括号。问号运算符的优先级较低，所以它会在比较运算符 <code>&gt;</code> 后执行。</p>
<p>下面这个示例会执行和前面那个示例相同的操作：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 比较运算符 &quot;age &gt; 18&quot; 首先执行</span></span><br><span class="line"><span class="comment">//（不需要将其包含在括号中）</span></span><br><span class="line"><span class="keyword">let</span> accessAllowed = age &gt; <span class="number">18</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<p>但括号可以使代码可读性更强，所以我们建议使用它们。</p>
<p><strong>请注意：</strong></p>
<p>在上面的例子中，你可以不使用问号运算符，因为比较本身就返回 <code>true/false</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 下面代码同样可以实现</span></span><br><span class="line"><span class="keyword">let</span> accessAllowed = age &gt; <span class="number">18</span>;</span><br></pre></td></tr></table></figure>

<h2 id="多个-‘-’"><a href="#多个-‘-’" class="headerlink" title="多个 ‘?’"></a>多个 ‘?’</h2><p>使用一系列问号 <code>?</code> 运算符可以返回一个取决于多个条件的值。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> message = (age &lt; <span class="number">3</span>) ? <span class="string">&#x27;小宝贝!&#x27;</span> :</span><br><span class="line">  (age &lt; <span class="number">18</span>) ? <span class="string">&#x27;小孩子&#x27;</span> :</span><br><span class="line">  (age &lt; <span class="number">100</span>) ? <span class="string">&#x27;你肯定成年了&#x27;</span> :</span><br><span class="line">  <span class="string">&#x27;洪福齐天！&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( message );</span><br></pre></td></tr></table></figure>

<ol>
<li>第一个问号检查 <code>age &lt; 3</code>。</li>
<li>如果为真 — 返回 <code>&#39;Hi, baby!&#39;</code>。否则，会继续执行冒号 <code>&quot;:&quot;</code> 后的表达式，检查 <code>age &lt; 18</code>。</li>
<li>如果为真 — 返回 <code>&#39;Hello!&#39;</code>。否则，会继续执行下一个冒号 <code>&quot;:&quot;</code> 后的表达式，检查 <code>age &lt; 100</code>。</li>
<li>如果为真 — 返回 <code>&#39;Greetings!&#39;</code>。否则，会继续执行最后一个冒号 <code>&quot;:&quot;</code> 后面的表达式，返回 <code>&#39;What an unusual age!&#39;</code>。</li>
</ol>
<p>这是使用 <code>if..else</code> 实现上面的逻辑的写法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (age &lt; <span class="number">3</span>) &#123;</span><br><span class="line">  message = <span class="string">&#x27;小宝贝!&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line">  message = <span class="string">&#x27;小孩子&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (age &lt; <span class="number">100</span>) &#123;</span><br><span class="line">  message = <span class="string">&#x27;你肯定成年了&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  message = <span class="string">&#x27;洪福齐天！&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="‘-’-的非常规使用"><a href="#‘-’-的非常规使用" class="headerlink" title="‘?’ 的非常规使用"></a>‘?’ 的非常规使用</h2><p>有时可以使用问号 <code>?</code> 来代替 <code>if</code> 语句：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;今年是哪一年？&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> year = <span class="number">2022</span> ;</span><br><span class="line">(year == <span class="string">&#x27;2024&#x27;</span>) ?</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;答对了!&#x27;</span>) : <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;错误，今年是2024年哦&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>根据条件 <code>year ==&#39;2024&#39;</code>，要么执行 <code>?</code> 后面的第一个表达式并显示对应内容，要么执行第二个表达式并显示对应内容。</p>
<p>在这里我们不是把结果赋值给变量。而是根据条件执行不同的代码。</p>
<p><strong>不建议这样使用问号运算符。</strong></p>
<p>这种写法比 <code>if</code> 语句更短，对一些程序员很有吸引力。但它的可读性差。</p>
<p>下面是使用 <code>if</code> 语句实现相同功能的代码，进行下比较：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;今年是哪一年？&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> year = <span class="number">2022</span> ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (year == <span class="string">&#x27;2024&#x27;</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;答对了!&#x27;</span>) ;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;错误，今年是2024年哦&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因为我们的眼睛垂直扫描代码。所以，跨越几行的代码块比长而水平的代码更易于理解。</p>
<p>问号 <code>?</code> 的作用是根据条件返回其中一个值。请正确使用它。当需要执行不同的代码分支时，请使用 <code>if</code>。</p>
<hr>
<h1 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h1><p>JavaScript 中有四个逻辑运算符：<code>||</code>（或），<code>&amp;&amp;</code>（与），<code>!</code>（非），<code>??</code>（空值合并运算符）。本文我们先介绍前三个，在下一篇文章中再详细介绍 <code>??</code> 运算符。</p>
<p>虽然它们被称为“逻辑”运算符，但这些运算符却可以被应用于任意类型的值，而不仅仅是布尔值。它们的结果也同样可以是任意类型。</p>
<h2 id="（或）"><a href="#（或）" class="headerlink" title="||（或）"></a>||（或）</h2><p>两个竖线符号表示“或”运算符：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = a || b;</span><br></pre></td></tr></table></figure>

<p>在传统的编程中，逻辑 <code>或</code> 仅能够操作布尔值。如果参与运算的任意一个参数为 <code>true</code>，返回的结果就为 <code>true</code>，否则返回 <code>false</code>。</p>
<p>在 JavaScript 中，逻辑运算符更加灵活强大。但是，首先让我们看一下操作数是布尔值的时候发生了什么。</p>
<p>下面是四种可能的逻辑组合：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">true</span> || <span class="literal">true</span> );   <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">false</span> || <span class="literal">true</span> );  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">true</span> || <span class="literal">false</span> );  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">false</span> || <span class="literal">false</span> ); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>正如我们所见，除了两个操作数都是 <code>false</code> 的情况，结果都是 <code>true</code>。</p>
<p>如果操作数不是布尔值，那么它将会被转化为布尔值来参与运算。</p>
<p>例如，数字 <code>1</code> 被作为 <code>true</code> 处理，数字 <code>0</code> 则被作为 <code>false</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">1</span> || <span class="number">0</span>) &#123; <span class="comment">// 工作原理相当于 if( true || false )</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;truthy!&#x27;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>大多数情况下，逻辑或 <code>||</code> 会被用在 <code>if</code> 语句中，用来测试是否有 <strong>任何</strong> 给定的条件为 <code>true</code>。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hour = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (hour &lt; <span class="number">10</span> || hour &gt; <span class="number">18</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;超市的门是关着的。&#x27;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以传入更多的条件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hour = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> isWeekend = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (hour &lt; <span class="number">10</span> || hour &gt; <span class="number">18</span> || isWeekend) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;超市的门是关着的。&#x27;</span> ); <span class="comment">// 是周末</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="或运算寻找第一个真值"><a href="#或运算寻找第一个真值" class="headerlink" title="或运算寻找第一个真值"></a>或运算寻找第一个真值</h2><p>上文提到的逻辑处理多少有些传统了。下面让我们看看 JavaScript 的“附加”特性。</p>
<p>拓展的算法如下所示。</p>
<p>给定多个参与或运算的值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = value1 || value2 || value3;</span><br></pre></td></tr></table></figure>

<p>或运算符 <code>||</code> 做了如下的事情：</p>
<ul>
<li>从左到右依次计算操作数。</li>
<li>处理每一个操作数时，都将其转化为布尔值。如果结果是 <code>true</code>，就停止计算，返回这个操作数的初始值。</li>
<li>如果所有的操作数都被计算过（也就是，转换结果都是 <code>false</code>），则返回最后一个操作数。</li>
</ul>
<p>返回的值是操作数的初始形式，不会做布尔转换。</p>
<p>换句话说，一个或运算 <code>||</code> 的链，将返回第一个真值，如果不存在真值，就返回该链的最后一个值。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">1</span> || <span class="number">0</span> ); <span class="comment">// 1（1 是真值）</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">null</span> || <span class="number">1</span> ); <span class="comment">// 1（1 是第一个真值）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">null</span> || <span class="number">0</span> || <span class="number">1</span> ); <span class="comment">// 1（第一个真值）</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">null</span> || <span class="number">0</span> || <span class="string">&#x27;你好&#x27;</span> ); <span class="comment">// 你好</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">undefined</span> || <span class="literal">null</span> || <span class="number">0</span> ); <span class="comment">// 0（都是假值，返回最后一个值）</span></span><br></pre></td></tr></table></figure>

<p>与“纯粹的、传统的、仅仅处理布尔值的或运算”相比，这个规则就引起了一些很有趣的用法。</p>
<ol>
<li><p><strong>获取变量列表或者表达式中的第一个真值。</strong></p>
<p>例如，我们有变量 <code>firstName</code>、<code>lastName</code> 和 <code>nickName</code>，都是可选的（即可以是 undefined，也可以是假值）。</p>
<p>我们用或运算 <code>||</code> 来选择有数据的那一个，并显示出来（如果没有设置，则用 <code>&quot;Anonymous&quot;</code>）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> lastName = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> nickName = <span class="string">&quot;超级虎哥&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( firstName || lastName || nickName || <span class="string">&quot;孙悟空&quot;</span>); <span class="comment">// 超级虎哥</span></span><br></pre></td></tr></table></figure>

<p>如果所有变量的值都为假，结果就是 <code>&quot;孙悟空&quot;</code>。</p>
</li>
<li><p><strong>短路求值（Short-circuit evaluation）。</strong></p>
<p>或运算符 <code>||</code> 的另一个用途是所谓的“短路求值”。</p>
<p>这指的是，<code>||</code> 对其参数进行处理，直到达到第一个真值，然后立即返回该值，而无需处理其他参数。</p>
<p>如果操作数不仅仅是一个值，而是一个有副作用的表达式，例如变量赋值或函数调用，那么这一特性的重要性就变得显而易见了。</p>
<p>在下面这个例子中，只会打印第二条信息：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">true</span> || <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;这条信息不会打印&quot;</span>);</span><br><span class="line"><span class="literal">false</span> || <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;打印出来了&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>在第一行中，或运算符 <code>||</code> 在遇到 <code>true</code> 时立即停止运算，所以 <code>console.log</code> 没有运行。</p>
<p>有时，人们利用这个特性，只在左侧的条件为假时才执行命令。</p>
</li>
</ol>
<h2 id="（与）"><a href="#（与）" class="headerlink" title="&amp;&amp;（与）"></a>&amp;&amp;（与）</h2><p>两个 &amp; 符号表示 <code>&amp;&amp;</code> 与运算符：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = a &amp;&amp; b;</span><br></pre></td></tr></table></figure>

<p>在传统的编程中，当两个操作数都是真值时，与运算返回 <code>true</code>，否则返回 <code>false</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">true</span> &amp;&amp; <span class="literal">true</span> );   <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">false</span> &amp;&amp; <span class="literal">true</span> );  <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">true</span> &amp;&amp; <span class="literal">false</span> );  <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">false</span> &amp;&amp; <span class="literal">false</span> ); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>带有 <code>if</code> 语句的示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hour = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> minute = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (hour == <span class="number">12</span> &amp;&amp; minute == <span class="number">30</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;当前时间是 12:30&#x27;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>就像或运算一样，与运算的操作数可以是任意类型的值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">1</span> &amp;&amp; <span class="number">0</span>) &#123; <span class="comment">// 作为 true &amp;&amp; false 来执行</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;这条信息不会输出，因为条件是false。&quot;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="与运算寻找第一个假值"><a href="#与运算寻找第一个假值" class="headerlink" title="与运算寻找第一个假值"></a>与运算寻找第一个假值</h2><p>给出多个参加与运算的值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = value1 &amp;&amp; value2 &amp;&amp; value3;</span><br></pre></td></tr></table></figure>

<p>与运算 <code>&amp;&amp;</code> 做了如下的事：</p>
<ul>
<li>从左到右依次计算操作数。</li>
<li>在处理每一个操作数时，都将其转化为布尔值。如果结果是 <code>false</code>，就停止计算，并返回这个操作数的初始值。</li>
<li>如果所有的操作数都被计算过（例如都是真值），则返回最后一个操作数。</li>
</ul>
<p>换句话说，与运算返回第一个假值，如果没有假值就返回最后一个值。</p>
<p>上面的规则和或运算很像。区别就是与运算返回第一个假值，而或运算返回第一个真值。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果第一个操作数是真值，</span></span><br><span class="line"><span class="comment">// 与运算返回第二个操作数：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">1</span> &amp;&amp; <span class="number">0</span> ); <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">1</span> &amp;&amp; <span class="number">5</span> ); <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果第一个操作数是假值，</span></span><br><span class="line"><span class="comment">// 与运算将直接返回它。第二个操作数会被忽略</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">null</span> &amp;&amp; <span class="number">5</span> ); <span class="comment">// null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">0</span> &amp;&amp; <span class="string">&quot;no matter what&quot;</span> ); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p>我们也可以在一行代码上串联多个值。查看第一个假值是如何被返回的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">1</span> &amp;&amp; <span class="number">2</span> &amp;&amp; <span class="literal">null</span> &amp;&amp; <span class="number">3</span> ); <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<p>如果所有的值都是真值，最后一个值将会被返回：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">1</span> &amp;&amp; <span class="number">2</span> &amp;&amp; <span class="number">3</span> ); <span class="comment">// 3，最后一个值</span></span><br></pre></td></tr></table></figure>

<p><strong>与运算 <code>&amp;&amp;</code> 在 或运算 <code>||</code> 之前进行</strong></p>
<p>与运算 <code>&amp;&amp;</code> 的优先级 比 或运算 <code>||</code> 要高。</p>
<p>所以代码 <code>a &amp;&amp; b || c &amp;&amp; d</code> 跟 <code>&amp;&amp;</code> 表达式加了括号完全一样：<code>(a &amp;&amp; b) || (c &amp;&amp; d)</code>。</p>
<p><strong>不要用 <code>||</code> 或 <code>&amp;&amp;</code> 来取代 <code>if</code></strong></p>
<p>有时候，有人会将与运算符 <code>&amp;&amp;</code> 作为“简化 <code>if</code>”的一种方式。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">(x &gt; <span class="number">0</span>) &amp;&amp; <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;大于零&#x27;</span> );</span><br></pre></td></tr></table></figure>

<p><code>&amp;&amp;</code> 右边的代码只有运算抵达到那里才能被执行。也就是，当且仅当 <code>(x &gt; 0)</code> 为真。</p>
<p>所以我们基本可以类似地得到：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x &gt; <span class="number">0</span>) <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;大于零!&#x27;</span> );</span><br></pre></td></tr></table></figure>

<p>虽然使用 <code>&amp;&amp;</code> 写出的变体看起来更短，但 <code>if</code> 更明显，并且往往更具可读性。因此，我们建议根据每个语法结构的用途来使用：如果我们想要 <code>if</code>，就使用 <code>if</code>；如果我们想要逻辑与，就使用 <code>&amp;&amp;</code>。</p>
<h2 id="（非）"><a href="#（非）" class="headerlink" title="!（非）"></a>!（非）</h2><p>感叹符号 <code>!</code> 表示布尔非运算符。</p>
<p>语法相当简单：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = !value;</span><br></pre></td></tr></table></figure>

<p>逻辑非运算符接受一个参数，并按如下运作：</p>
<ol>
<li>将操作数转化为布尔类型：<code>true/false</code>。</li>
<li>返回相反的值。</li>
</ol>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( !<span class="literal">true</span> ); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( !<span class="number">0</span> ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>两个非运算 <code>!!</code> 有时候用来将某个值转化为布尔类型：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( !!<span class="string">&quot;non-empty string&quot;</span> ); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( !!<span class="literal">null</span> ); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>也就是，第一个非运算将该值转化为布尔类型并取反，第二个非运算再次取反。最后我们就得到了一个任意值到布尔值的转化。</p>
<p>有一个略显冗长的方式也可以实现同样的效果 —— 一个内建的 <code>Boolean</code> 函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Boolean</span>(<span class="string">&quot;non-empty string&quot;</span>) ); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title class_">Boolean</span>(<span class="literal">null</span>) ); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="非运算符-的优先级在所有逻辑运算符里面最高，所以它总是在-和-之前执行。https-zh-javascript-info-logical-operators"><a href="#非运算符-的优先级在所有逻辑运算符里面最高，所以它总是在-和-之前执行。https-zh-javascript-info-logical-operators" class="headerlink" title="非运算符 ! 的优先级在所有逻辑运算符里面最高，所以它总是在 &amp;&amp; 和 || 之前执行。https://zh.javascript.info/logical-operators"></a>非运算符 <code>!</code> 的优先级在所有逻辑运算符里面最高，所以它总是在 <code>&amp;&amp;</code> 和 <code>||</code> 之前执行。<br><a target="_blank" rel="noopener" href="https://zh.javascript.info/logical-operators">https://zh.javascript.info/logical-operators</a></h2><hr>
<h1 id="空值合并运算符-‘-‘"><a href="#空值合并运算符-‘-‘" class="headerlink" title="空值合并运算符 ‘ ?? ‘"></a>空值合并运算符 ‘ ?? ‘</h1><p>这是一个最近添加到 JavaScript 的特性。 旧式浏览器可能需要 polyfills.</p>
<p>空值合并运算符（nullish coalescing operator）的写法为两个问号 <code>??</code>。</p>
<p>由于它对待 <code>null</code> 和 <code>undefined</code> 的方式类似，所以在本文中我们将使用一个特殊的术语对其进行表示。为简洁起见，当一个值既不是 <code>null</code> 也不是 <code>undefined</code> 时，我们将其称为“已定义的（defined）”。</p>
<p><code>a ?? b</code> 的结果是：</p>
<ul>
<li>如果 <code>a</code> 是已定义的，则结果为 <code>a</code>，</li>
<li>如果 <code>a</code> 不是已定义的，则结果为 <code>b</code>。</li>
</ul>
<p>换句话说，如果第一个参数不是 <code>null/undefined</code>，则 <code>??</code> 返回第一个参数。否则，返回第二个参数。</p>
<p>空值合并运算符并不是什么全新的东西。它只是一种获得两者中的第一个“已定义的”值的不错的语法。</p>
<p>我们可以使用我们已知的运算符重写 <code>result = a ?? b</code>，像这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = (a !== <span class="literal">null</span> &amp;&amp; a !== <span class="literal">undefined</span>) ? a : b;</span><br></pre></td></tr></table></figure>

<p>现在你应该清楚了 <code>??</code> 的作用。让我们来看看它的使用场景吧。</p>
<p><code>??</code> 的常见使用场景是提供默认值。</p>
<p>例如，在这里，如果 <code>user</code> 的值不为 <code>null/undefined</code> 则显示 <code>user</code>，否则显示 <code>匿名</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(user ?? <span class="string">&quot;匿名&quot;</span>); <span class="comment">// 匿名（user 未定义）</span></span><br></pre></td></tr></table></figure>

<p>在下面这个例子中，我们将一个名字赋值给了 <code>user</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(user ?? <span class="string">&quot;匿名&quot;</span>); <span class="comment">// John（user 已定义）</span></span><br></pre></td></tr></table></figure>

<p>我们还可以使用 <code>??</code> 序列从一系列的值中选择出第一个非 <code>null/undefined</code> 的值。</p>
<p>假设我们在变量 <code>firstName</code>、<code>lastName</code> 或 <code>nickName</code> 中存储着一个用户的数据。如果用户决定不填写相应的值，则所有这些变量的值都可能是未定义的。</p>
<p>我们想使用这些变量之一显示用户名，如果这些变量的值都是 <code>null/undefined</code>，则显示 “匿名”。</p>
<p>让我们使用 <code>??</code> 运算符来实现这一需求：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> lastName = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> nickName = <span class="string">&quot;Supercoder&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示第一个已定义的值：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(firstName ?? lastName ?? nickName ?? <span class="string">&quot;匿名&quot;</span>); <span class="comment">// Supercoder</span></span><br></pre></td></tr></table></figure>

<h2 id="与-比较"><a href="#与-比较" class="headerlink" title="与 || 比较"></a>与 || 比较</h2><p>或运算符 <code>||</code> 可以以与 <code>??</code> 运算符相同的方式使用。像我们在 <a target="_blank" rel="noopener" href="https://zh.javascript.info/logical-operators#or-finds-the-first-truthy-value">上一章</a> 所讲的那样。</p>
<p>例如，在上面的代码中，我们可以用 <code>||</code> 替换掉 <code>??</code>，也可以获得相同的结果：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> lastName = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> nickName = <span class="string">&quot;Supercoder&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示第一个真值：</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(firstName || lastName || nickName || <span class="string">&quot;Anonymous&quot;</span>); <span class="comment">// Supercoder</span></span><br></pre></td></tr></table></figure>

<p>纵观 JavaScript 发展史，或 <code>||</code> 运算符先于 <code>??</code> 出现。它自 JavaScript 诞生就存在了，因此开发者长期将其用于这种目的。</p>
<p>另一方面，空值合并运算符 <code>??</code> 是最近才被添加到 JavaScript 中的，它的出现是因为人们对 <code>||</code> 不太满意。</p>
<p>它们之间重要的区别是：</p>
<ul>
<li><code>||</code> 返回第一个 <strong>真</strong> 值。</li>
<li><code>??</code> 返回第一个 <strong>已定义的</strong> 值。</li>
</ul>
<p>换句话说，<code>||</code> 无法区分 <code>false</code>、<code>0</code>、空字符串 <code>&quot;&quot;</code> 和 <code>null/undefined</code>。它们都一样 —— 假值（falsy values）。如果其中任何一个是 <code>||</code> 的第一个参数，那么我们将得到第二个参数作为结果。</p>
<p>不过在实际中，我们可能只想在变量的值为 <code>null/undefined</code> 时使用默认值。也就是说，当该值确实未知或未被设置时。</p>
<p>例如，考虑下面这种情况：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> height = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(height || <span class="number">100</span>); <span class="comment">// 100</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(height ?? <span class="number">100</span>); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>height || 100</code> 首先会检查 <code>height</code>  是否为一个假值，它是 <code>0</code>  ，确实是假值。</p>
<ul>
<li>所以，<code>||</code> 运算的结果为第二个参数，<code>100</code>。</li>
</ul>
</li>
<li><p><code>height ?? 100</code>  首先会检查 <code>height</code>  是否为 <code>null/undefined</code>  ，发现它不是。</p>
<ul>
<li>所以，结果为 <code>height</code> 的原始值，<code>0</code>。</li>
</ul>
</li>
</ul>
<p>实际上，高度 <code>0</code> 通常是一个有效值，它不应该被替换为默认值。所以 <code>??</code> 运算得到的是正确的结果。</p>
<h2 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h2><p><code>??</code> 运算符的优先级与 <code>||</code> 相同，它们的优先级都为 <code>3</code>，详见：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Operators/Operator_Precedence#Table">MDN</a>。</p>
<p>这意味着，就像 <code>||</code> 一样，空值合并运算符在 <code>=</code> 和 <code>?</code> 运算前计算，但在大多数其他运算（例如 <code>+</code> 和 <code>*</code>）之后计算。</p>
<p>所以我们可能需要在这样的表达式中添加括号：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> height = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> width = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重要：使用括号</span></span><br><span class="line"><span class="keyword">let</span> area = (height ?? <span class="number">100</span>) * (width ?? <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(area); <span class="comment">// 5000</span></span><br></pre></td></tr></table></figure>

<p>否则，如果我们省略了括号，则由于 <code>*</code> 的优先级比 <code>??</code> 高，它会先执行，进而导致错误的结果。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 没有括号</span></span><br><span class="line"><span class="keyword">let</span> area = height ?? <span class="number">100</span> * width ?? <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ……实际的计算顺序如下（不符合我们的期望）：</span></span><br><span class="line"><span class="keyword">let</span> area = height ?? (<span class="number">100</span> * width) ?? <span class="number">50</span>;</span><br></pre></td></tr></table></figure>

<h3 id="与-或-一起使用"><a href="#与-或-一起使用" class="headerlink" title="?? 与 &amp;&amp; 或 || 一起使用"></a>?? 与 &amp;&amp; 或 || 一起使用</h3><p>出于安全原因，JavaScript 禁止将 <code>??</code> 运算符与 <code>&amp;&amp;</code> 和 <code>||</code> 运算符一起使用，除非使用括号明确指定了优先级。</p>
<p>下面的代码会触发一个语法错误：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span> &amp;&amp; <span class="number">2</span> ?? <span class="number">3</span>; <span class="comment">// Syntax error</span></span><br></pre></td></tr></table></figure>

<p>这个限制无疑是值得商榷的，它被添加到语言规范中是为了避免人们从 <code>||</code> 切换到 <code>??</code> 时的编程错误。</p>
<p>可以明确地使用括号来解决这个问题：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = (<span class="number">1</span> &amp;&amp; <span class="number">2</span>) ?? <span class="number">3</span>; <span class="comment">// 正常工作了</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h2 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h2><ul>
<li><p>空值合并运算符 <code>??</code> 提供了一种从列表中选择第一个“已定义的”值的简便方式。</p>
<p>它被用于为变量分配默认值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 当 height 的值为 null 或 undefined 时，将 height 的值设置为 100</span></span><br><span class="line">height = height ?? <span class="number">100</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>??</code> 运算符的优先级非常低，仅略高于 <code>?</code> 和 <code>=</code>，因此在表达式中使用它时请考虑添加括号。</p>
</li>
<li><p>如果没有明确添加括号，不能将其与 <code>||</code> 或 <code>&amp;&amp;</code> 一起使用。</p>
</li>
</ul>
<hr>
<h1 id="循环：while-和-for"><a href="#循环：while-和-for" class="headerlink" title="循环：while 和 for"></a>循环：while 和 for</h1><p>我们经常需要重复执行一些操作。<strong>循环</strong> 是一种重复运行同一代码的方法。</p>
<p><strong>for…of 和 for…in 循环</strong></p>
<p>本文仅涵盖了基础的循环：<code>while</code>，<code>do..while</code> 和 <code>for(..; ..; ..)</code>。</p>
<p>如果你阅读本文是为了寻找其他类型的循环，那么：</p>
<ul>
<li>用于遍历对象属性的 <code>for..in</code> 循环请见：<a target="_blank" rel="noopener" href="https://zh.javascript.info/object#forin">for…in</a>。</li>
<li>用于遍历数组和可迭代对象的循环分别请见：<a target="_blank" rel="noopener" href="https://zh.javascript.info/array#xun-huan">for…of</a> 和 <a target="_blank" rel="noopener" href="https://zh.javascript.info/iterable">iterables</a>。</li>
</ul>
<h2 id="“while”-循环"><a href="#“while”-循环" class="headerlink" title="“while” 循环"></a>“while” 循环</h2><p><code>while</code> 循环的语法如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (condition) &#123;</span><br><span class="line">  <span class="comment">// 代码</span></span><br><span class="line">  <span class="comment">// 所谓的“循环体”</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当 <code>condition</code> 为真时，执行循环体的 <code>code</code>。</p>
<p>例如，以下将循环输出当 <code>i &lt; 3</code> 时的 <code>i</code> 值：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">3</span>) &#123; <span class="comment">// 依次显示 0、1 和 2</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( i );</span><br><span class="line">  i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>循环体的单次执行（一次循环）叫作 <strong>一次迭代</strong>。上面示例中的循环进行了三次迭代。</p>
<p>如果上述示例中没有 <code>i++</code>，那么循环（理论上）会永远重复执行下去。实际上，浏览器提供了阻止这种循环的方法，我们可以通过终止进程，来停掉服务器端的 JavaScript。</p>
<p>任何表达式或变量都可以是循环条件，而不仅仅是比较。在 <code>while</code> 中的循环条件会被计算，计算结果会被转化为布尔值。</p>
<p>例如，<code>while (i != 0)</code> 可简写为 <code>while (i)</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">while</span> (i) &#123; <span class="comment">// 当 i 变成 0 时，条件为假，循环终止</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( i );</span><br><span class="line">  i--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>单行循环体不需要大括号</strong></p>
<p>如果循环体只有一条语句，则可以省略大括号 <code>&#123;…&#125;</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">while</span> (i) <span class="variable language_">console</span>.<span class="title function_">log</span>(i--);</span><br></pre></td></tr></table></figure>

<h2 id="“do…while”-循环"><a href="#“do…while”-循环" class="headerlink" title="“do…while” 循环"></a>“do…while” 循环</h2><p>使用 <code>do..while</code> 语法可以将条件检查移至循环体 <strong>下面</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  <span class="comment">// 循环体</span></span><br><span class="line">&#125; <span class="keyword">while</span> (condition);</span><br></pre></td></tr></table></figure>

<p>循环首先执行一次循环体，然后再检查条件，当条件为真时，重复执行循环体。</p>
<p>例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( i );</span><br><span class="line">  i++;</span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p>这种形式的语法很少使用，除非你希望不管条件是否为真，循环体 <strong>至少执行一次</strong>。通常我们更倾向于使用另一个形式：<code>while(…) &#123;…&#125;</code>。</p>
<h2 id="“for”-循环"><a href="#“for”-循环" class="headerlink" title="“for” 循环"></a>“for” 循环</h2><p><code>for</code> 循环更加复杂，但它是最常使用的循环形式。</p>
<p><code>for</code> 循环看起来就像这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (begin; condition; step) &#123;</span><br><span class="line">  <span class="comment">// ……循环体……</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们通过示例来了解一下这三个部分的含义。<br>下述循环从 <code>i</code> 等于 <code>0</code> 到 <code>3</code>（但不包括 <code>3</code>）运行 <code>console.log(i)</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123; <span class="comment">// 结果为 0、1、2</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们逐个部分分析 <code>for</code> 循环：</p>
<table>
<thead>
<tr>
<th align="left">语句段</th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">begin</td>
<td align="left"><code>let i = 0</code></td>
<td align="left">进入循环时执行一次。</td>
</tr>
<tr>
<td align="left">condition</td>
<td align="left"><code>i &lt; 3</code></td>
<td align="left">在每次循环迭代之前检查，如果为 false，停止循环。</td>
</tr>
<tr>
<td align="left">body（循环体）</td>
<td align="left"><code>console.log(i)</code></td>
<td align="left">条件为真时，重复运行。</td>
</tr>
<tr>
<td align="left">step</td>
<td align="left"><code>i++</code></td>
<td align="left">在每次循环体迭代后执行。</td>
</tr>
</tbody></table>
<p>一般循环算法的工作原理如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">开始运行</span><br><span class="line">→ (如果 condition 成立 → 运行 body 然后运行 step)</span><br><span class="line">→ (如果 condition 成立 → 运行 body 然后运行 step)</span><br><span class="line">→ (如果 condition 成立 → 运行 body 然后运行 step)</span><br><span class="line">→ ...</span><br></pre></td></tr></table></figure>

<p>所以，<code>begin</code> 执行一次，然后进行迭代：每次检查 <code>condition</code> 后，执行 <code>body</code> 和 <code>step</code>。</p>
<p>如果你这是第一次接触循环，那么回到这个例子，在一张纸上重现它逐步运行的过程，可能会对你有所帮助。</p>
<p>以下是在这个示例中发生的事：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for (let i = 0; i &lt; 3; i++) console.log(i)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 开始</span></span><br><span class="line"><span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line"><span class="comment">// 如果条件为真，运行下一步</span></span><br><span class="line"><span class="keyword">if</span> (i &lt; <span class="number">3</span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(i); i++ &#125;</span><br><span class="line"><span class="comment">// 如果条件为真，运行下一步</span></span><br><span class="line"><span class="keyword">if</span> (i &lt; <span class="number">3</span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(i); i++ &#125;</span><br><span class="line"><span class="comment">// 如果条件为真，运行下一步</span></span><br><span class="line"><span class="keyword">if</span> (i &lt; <span class="number">3</span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(i); i++ &#125;</span><br><span class="line"><span class="comment">// ……结束，因为现在 i == 3</span></span><br></pre></td></tr></table></figure>

<p><strong>内联变量声明</strong></p>
<p>这里“计数”变量 <code>i</code> 是在循环中声明的。这叫做“内联”变量声明。这样的变量只在循环中可见。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 0, 1, 2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 错误，没有这个变量。</span></span><br></pre></td></tr></table></figure>

<p>除了定义一个变量，我们也可以使用现有的变量：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123; <span class="comment">// 使用现有的变量</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 0, 1, 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">//3，可见，因为是在循环之外声明的</span></span><br></pre></td></tr></table></figure>

<h3 id="省略语句段"><a href="#省略语句段" class="headerlink" title="省略语句段"></a>省略语句段</h3><p><code>for</code> 循环的任何语句段都可以被省略。</p>
<p>例如，如果我们在循环开始时不需要做任何事，我们就可以省略 <code>begin</code> 语句段。</p>
<p>就像这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>; <span class="comment">// 我们已经声明了 i 并对它进行了赋值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (; i &lt; <span class="number">3</span>; i++) &#123; <span class="comment">// 不再需要 &quot;begin&quot; 语句段</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( i ); <span class="comment">// 0, 1, 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们也可以移除 <code>step</code> 语句段：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (; i &lt; <span class="number">3</span>;) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( i++ );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>该循环与 <code>while (i &lt; 3)</code> 等价。</p>
<p>实际上我们可以删除所有内容，从而创建一个无限循环：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (;;) &#123;</span><br><span class="line">  <span class="comment">// 无限循环</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请注意 <code>for</code> 的两个 <code>;</code> 必须存在，否则会出现语法错误。<br>可以结合无限循环来等待 setTimeout 的异步执行，等到异步执行完成后，返回一个条件，让无限循环结束（即跳出循环）。</p>
<h2 id="跳出循环"><a href="#跳出循环" class="headerlink" title="跳出循环"></a>跳出循环</h2><p>通常条件为假时，循环会终止。</p>
<p>但我们随时都可以使用 <code>break</code> 指令强制退出。</p>
<p>例如，下面这个循环要求用户输入一系列数字，在输入的内容不是数字时“终止”循环。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> value = +<span class="title function_">prompt</span>(<span class="string">&quot;请输入数字&quot;</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!value) <span class="keyword">break</span>; <span class="comment">// (*)</span></span><br><span class="line"></span><br><span class="line">  sum += value;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Sum: &#x27;</span> + sum );</span><br></pre></td></tr></table></figure>

<p>如果用户输入空行或取消输入，在 <code>(*)</code> 行的 <code>break</code> 指令会被激活。它立刻终止循环，将控制权传递给循环后的第一行，即，<code>console.log</code>。</p>
<p>根据需要，”无限循环 + <code>break</code>“ 的组合非常适用于不必在循环开始&#x2F;结束时检查条件，但需要在中间甚至是主体的多个位置进行条件检查的情况。</p>
<h2 id="继续下一次迭代"><a href="#继续下一次迭代" class="headerlink" title="继续下一次迭代"></a>继续下一次迭代</h2><p><code>continue</code> 指令是 <code>break</code> 的“轻量版”。它不会停掉整个循环。而是停止当前这一次迭代，并强制启动新一轮循环（如果条件允许的话）。</p>
<p>如果我们完成了当前的迭代，并且希望继续执行下一次迭代，我们就可以使用它。</p>
<p>下面这个循环使用 <code>continue</code> 来只输出奇数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//如果为真，跳过循环体的剩余部分。</span></span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 1，然后 3，5，7，9</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对于偶数的 <code>i</code> 值，<code>continue</code> 指令会停止本次循环的继续执行，将控制权传递给下一次 <code>for</code> 循环的迭代（使用下一个数字）。因此 <code>console.log</code> 仅被奇数值调用。</p>
<p><strong><code>continue</code> 指令利于减少嵌套</strong></p>
<p>显示奇数的循环可以像下面这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (i % <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( i );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>从技术角度看，它与上一个示例完全相同。当然，我们可以将代码包装在 <code>if</code> 块而不使用 <code>continue</code>。</p>
<p>但在副作用方面，它多创建了一层嵌套（大括号内的 <code>console.log</code> 调用）。如果 <code>if</code> 中代码有多行，则可能会降低代码整体的可读性。</p>
<p><strong>禁止 <code>break/continue</code> 在 ‘?’ 的右边</strong></p>
<p>请注意非表达式的语法结构不能与三元运算符 <code>?</code> 一起使用。特别是 <code>break/continue</code> 这样的指令是不允许这样使用的。</p>
<p>例如，我们使用如下代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (i &gt; <span class="number">5</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>……用问号重写：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(i &gt; <span class="number">5</span>) ? <span class="variable language_">console</span>.<span class="title function_">log</span>(i) : <span class="keyword">continue</span>; <span class="comment">// continue 不允许在这个位置</span></span><br></pre></td></tr></table></figure>

<p>……代码会停止运行，并显示有语法错误。</p>
<p>这是不（建议）使用问号 <code>?</code> 运算符替代 <code>if</code> 语句的另一个原因。</p>
<h2 id="break-continue-标签"><a href="#break-continue-标签" class="headerlink" title="break&#x2F;continue 标签"></a>break&#x2F;continue 标签</h2><p>有时候我们需要一次从多层嵌套的循环中跳出来。</p>
<p>例如，下述代码中我们的循环使用了 <code>i</code> 和 <code>j</code>，从 <code>(0,0)</code> 到 <code>(3,3)</code> 提示坐标 <code>(i, j)</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> input = <span class="title function_">prompt</span>(<span class="string">`Value at coords (<span class="subst">$&#123;i&#125;</span>,<span class="subst">$&#123;j&#125;</span>)`</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果我想从这里退出并直接执行 console.log(&#x27;Done!&#x27;)</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Done!&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>我们需要提供一种方法，以在用户取消输入时来停止这个过程。</p>
<p>在 <code>input</code> 之后的普通 <code>break</code> 只会打破内部循环。这还不够 —— 标签可以实现这一功能！</p>
<p><strong>标签</strong> 是在循环之前带有冒号的标识符：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">labelName</span>: <span class="keyword">for</span> (...) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>break &lt;labelName&gt;</code> 语句跳出循环至标签处：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">outer</span>: <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> input = <span class="title function_">prompt</span>(<span class="string">`Value at coords (<span class="subst">$&#123;i&#125;</span>,<span class="subst">$&#123;j&#125;</span>)`</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果是空字符串或被取消，则中断并跳出这两个循环。</span></span><br><span class="line">    <span class="keyword">if</span> (!input) <span class="keyword">break</span> outer; <span class="comment">// (*)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 用得到的值做些事……</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Done!&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>上述代码中，<code>break outer</code> 向上寻找名为 <code>outer</code> 的标签并跳出当前循环。</p>
<p>因此，控制权直接从 <code>(*)</code> 转至 <code>console.log(&#39;Done!&#39;)</code>。</p>
<p>我们还可以将标签移至单独一行：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">outer</span>:</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p><code>continue</code> 指令也可以与标签一起使用。在这种情况下，执行跳转到标记循环的下一次迭代。</p>
<p><strong>标签并不允许“跳到”所有位置</strong></p>
<p>标签不允许我们跳到代码的任意位置。</p>
<p>例如，这样做是不可能的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">break</span> label;  <span class="comment">// 跳转至下面的 label 处（无效）</span></span><br><span class="line"></span><br><span class="line"><span class="attr">label</span>: <span class="keyword">for</span> (...)</span><br></pre></td></tr></table></figure>

<p><code>break</code> 指令必须在代码块内。从技术上讲，任何被标记的代码块都有效，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">label</span>: &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">break</span> label; <span class="comment">// 有效</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>……尽管 99.9% 的情况下 <code>break</code> 都被用在循环内，就像在上面那些例子中我们看到的那样。</p>
<p><code>continue</code> 只有在循环内部才可行。</p>
<h2 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h2><p>我们学习了三种循环：</p>
<ul>
<li><code>while</code> —— 每次迭代之前都要检查条件。</li>
<li><code>do..while</code> —— 每次迭代后都要检查条件。</li>
<li><code>for (;;)</code> —— 每次迭代之前都要检查条件，可以使用其他设置。</li>
</ul>
<p>通常使用 <code>while(true)</code> 来构造“无限”循环。这样的循环和其他循环一样，都可以通过 <code>break</code> 指令来终止。</p>
<p>如果我们不想在当前迭代中做任何事，并且想要转移至下一次迭代，那么可以使用 <code>continue</code> 指令。</p>
<p><code>break/continue</code> 支持循环前的标签。<br>标签是 <code>break/continue</code> 跳出嵌套循环以转到外部的唯一方法。</p>
<h2 id="https-zh-javascript-info-while-for"><a href="#https-zh-javascript-info-while-for" class="headerlink" title="https://zh.javascript.info/while-for"></a><a target="_blank" rel="noopener" href="https://zh.javascript.info/while-for">https://zh.javascript.info/while-for</a></h2><hr>
<h1 id="“switch”-语句"><a href="#“switch”-语句" class="headerlink" title="“switch” 语句"></a>“switch” 语句</h1><p><code>switch</code> 语句可以替代多个 <code>if</code> 判断。</p>
<p><code>switch</code> 语句为多分支选择的情况提供了一个更具描述性的方式。</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p><code>switch</code> 语句有至少一个 <code>case</code> 代码块和一个可选的 <code>default</code> 代码块。</p>
<p>就像这样：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(x) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;value1&#x27;</span>:  <span class="comment">// if (x === &#x27;value1&#x27;)</span></span><br><span class="line">    ...</span><br><span class="line">    [<span class="keyword">break</span>]</span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;value2&#x27;</span>:  <span class="comment">// if (x === &#x27;value2&#x27;)</span></span><br><span class="line">    ...</span><br><span class="line">    [<span class="keyword">break</span>]</span><br><span class="line"></span><br><span class="line">  <span class="attr">default</span>:</span><br><span class="line">    ...</span><br><span class="line">    [<span class="keyword">break</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>比较 <code>x</code> 值与第一个 <code>case</code>（也就是 <code>value1</code>）是否严格相等，然后比较第二个 <code>case</code>（<code>value2</code>）以此类推。</li>
<li>如果相等，<code>switch</code> 语句就执行相应 <code>case</code> 下的代码块，直到遇到最靠近的 <code>break</code> 语句（或者直到 <code>switch</code> 语句末尾）。</li>
<li>如果没有符合的 case，则执行 <code>default</code> 代码块（如果 <code>default</code> 存在）。</li>
</ul>
<h2 id="举个例子"><a href="#举个例子" class="headerlink" title="举个例子"></a>举个例子</h2><p><code>switch</code> 的例子（高亮的部分是执行的 <code>case</code> 部分）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">2</span> + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (a) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;太小啦！&#x27;</span> );</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;没错!正是我&#x27;</span> );</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;太大了&#x27;</span> );</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="attr">default</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;额，什么鬼东西&quot;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里的 <code>switch</code> 从第一个 <code>case</code> 分支开始将 <code>a</code> 的值与 <code>case</code> 后的值进行比较，第一个 <code>case</code> 后的值为 <code>3</code> 匹配失败。</p>
<p>然后比较 <code>4</code>。匹配，所以从 <code>case 4</code> 开始执行直到遇到最近的 <code>break</code>。</p>
<p><strong>如果没有 <code>break</code>，程序将不经过任何检查就会继续执行下一个 <code>case</code>。</strong></p>
<p>无 <code>break</code> 的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">2</span> + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (a) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;太小啦！&#x27;</span> );</span><br><span class="line">  <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;没错!正是我&#x27;</span> );</span><br><span class="line">  <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;太大了&#x27;</span> );</span><br><span class="line">  <span class="attr">default</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;额，什么鬼东西&quot;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上面的例子中我们会看到连续执行的三个 <code>console.log</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;太小啦&#x27;</span> );</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;太大了&#x27;</span> );</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;额，什么鬼东西&quot;</span> );</span><br></pre></td></tr></table></figure>

<p><strong>任何表达式都可以成为 <code>switch/case</code> 的参数</strong></p>
<p><code>switch</code> 和 <code>case</code> 都允许任意表达式。</p>
<p>比如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (+a) &#123;</span><br><span class="line">  <span class="keyword">case</span> b + <span class="number">1</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;这里会被运行, 因为 +a 是 1, 刚好等于 b+1&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attr">default</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;这里将不会被运行&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里 <code>+a</code> 返回 <code>1</code>，这个值跟 <code>case</code> 中 <code>b + 1</code> 相比较，然后执行对应的代码。</p>
<h2 id="“case”-分组"><a href="#“case”-分组" class="headerlink" title="“case” 分组"></a>“case” 分组</h2><p>共享同一段代码的几个 <code>case</code> 分支可以被分为一组：</p>
<p>比如，如果我们想让 <code>case 3</code> 和 <code>case 5</code> 执行同样的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (a) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是4！你看清楚a是几？&#x27;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>: <span class="comment">// (*) 下面这两个 case 被分在一组</span></span><br><span class="line">  <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;错误!&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Why don&#x27;t you take a math class?&quot;</span>);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attr">default</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;The result is strange. Really.&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在 <code>3</code> 和 <code>5</code> 都显示相同的信息。</p>
<p><code>switch/case</code> 有通过 case 进行“分组”的能力，其实是 switch 语句没有 <code>break</code> 时的副作用。因为没有 <code>break</code>，<code>case 3</code> 会从 <code>(*)</code> 行执行到 <code>case 5</code>。</p>
<h2 id="类型很关键"><a href="#类型很关键" class="headerlink" title="类型很关键"></a><a target="_blank" rel="noopener" href="https://zh.javascript.info/switch#lei-xing-hen-guan-jian">类型很关键</a></h2><p>强调一下，这里的相等是严格相等。被比较的值必须是相同的类型才能进行匹配。</p>
<p>比如，我们来看下面的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arg = <span class="title function_">prompt</span>(<span class="string">&quot;Enter a value?&quot;</span>)</span><br><span class="line"><span class="keyword">switch</span> (arg) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;0&#x27;</span>:</span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;One or zero&#x27;</span> );</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Two&#x27;</span> );</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Never executes!&#x27;</span> );</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="attr">default</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;An unknown value&#x27;</span> )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>在 <code>prompt</code> 对话框输入 <code>0</code>、<code>1</code>，第一个 <code>console.log</code> 弹出。</li>
<li>输入 <code>2</code>，第二个 <code>console.log</code> 弹出。</li>
<li>但是输入 <code>3</code>，因为 <code>prompt</code> 的结果是字符串类型的 <code>&quot;3&quot;</code>，不严格相等 <code>===</code> 于数字类型的 <code>3</code>，所以 <code>case 3</code> 不会执行！因此 <code>case 3</code> 部分是一段无效代码。所以会执行 <code>default</code> 分支。</li>
</ol>
<hr>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><p>我们经常需要在脚本的许多地方执行很相似的操作。</p>
<p>例如，当访问者登录、注销或者在其他地方时，我们需要显示一条好看的信息。</p>
<p>函数是程序的主要“构建模块”。函数使该段代码可以被调用很多次，而不需要写重复的代码。</p>
<p>我们已经看到了内建函数的示例，如 <code>alert(message)</code>、<code>prompt(message, default)</code> 和 <code>confirm(question)</code>。但我们也可以创建自己的函数。</p>
<h2 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h2><p>使用 <strong>函数声明</strong> 创建函数。</p>
<p>看起来就像这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Hello everyone!&#x27;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>function</code> 关键字首先出现，然后是 函数名，然后是括号之间的 参数 列表（用逗号分隔，在上述示例中为空，我们将在接下来的示例中看到），最后是花括号之间的代码（即“函数体”）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">name</span>(<span class="params">parameter1, parameter2, ... parameterN</span>) &#123;</span><br><span class="line">  ...body...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们的新函数可以通过名称调用：<code>showMessage()</code>。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Hello everyone!&#x27;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">showMessage</span>();</span><br><span class="line"><span class="title function_">showMessage</span>();</span><br></pre></td></tr></table></figure>
<p>调用 <code>showMessage()</code> 执行函数的代码。这里我们会看到显示两次消息。</p>
<p>这个例子清楚地演示了函数的主要目的之一：<strong>避免代码重复</strong>。</p>
<p>如果我们需要更改消息或其显示方式，只需在一个地方修改代码：输出它的函数。</p>
<h2 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h2><p>在函数中声明的变量只在该函数内部可见。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> message = <span class="string">&quot;Hello, I&#x27;m JavaScript!&quot;</span>; <span class="comment">// 局部变量</span></span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( message );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">showMessage</span>(); <span class="comment">// Hello, I&#x27;m JavaScript!</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( message ); <span class="comment">// &lt;-- 错误！变量是函数的局部变量</span></span><br></pre></td></tr></table></figure>
<h2 id="外部变量"><a href="#外部变量" class="headerlink" title="外部变量"></a>外部变量</h2><p>函数也可以访问外部变量，例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userName = <span class="string">&#x27;John&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> message = <span class="string">&#x27;Hello, &#x27;</span> + userName;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">showMessage</span>(); <span class="comment">// Hello, John</span></span><br></pre></td></tr></table></figure>
<p>函数对外部变量拥有全部的访问权限。函数也可以修改外部变量。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userName = <span class="string">&#x27;John&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  userName = <span class="string">&quot;Bob&quot;</span>; <span class="comment">// (1) 改变外部变量</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> message = <span class="string">&#x27;Hello, &#x27;</span> + userName;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( userName ); <span class="comment">// John 在函数调用之前</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">showMessage</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( userName ); <span class="comment">// Bob，值被函数修改了</span></span><br></pre></td></tr></table></figure>
<p>只有在没有局部变量的情况下才会使用外部变量。</p>
<p>如果在函数内部声明了同名变量，那么函数会 遮蔽 外部变量。例如，在下面的代码中，函数使用局部的 userName，而外部变量被忽略：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userName = <span class="string">&#x27;John&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> userName = <span class="string">&quot;Bob&quot;</span>; <span class="comment">// 声明一个局部变量</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> message = <span class="string">&#x27;Hello, &#x27;</span> + userName; <span class="comment">// Bob</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数会创建并使用它自己的 userName</span></span><br><span class="line"><span class="title function_">showMessage</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( userName ); <span class="comment">// John，未被更改，函数没有访问外部变量。</span></span><br></pre></td></tr></table></figure>
<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><p>任何函数之外声明的变量，例如上述代码中的外部变量 <code>userName</code>，都被称为 <strong>全局</strong> 变量。</p>
<p>全局变量在任意函数中都是可见的（除非被局部变量遮蔽）。</p>
<p><em>减少全局变量</em> 的使用是一种很好的做法。现代的代码有很少甚至没有全局变量。大多数变量存在于它们的函数中。但是有时候，全局变量能够用于存储项目级别的数据。</p>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><p>我们可以通过参数将任意数据传递给函数。</p>
<p>在如下示例中，函数有两个参数：from 和 text。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"><span class="keyword">from</span>, text</span>) &#123; <span class="comment">// 参数：from 和 text</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">from</span> + <span class="string">&#x27;: &#x27;</span> + text);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">showMessage</span>(<span class="string">&#x27;阿祖&#x27;</span>, <span class="string">&#x27;你好!&#x27;</span>); <span class="comment">// 阿祖: 你好! (*)</span></span><br><span class="line"><span class="title function_">showMessage</span>(<span class="string">&#x27;阿祖&#x27;</span>, <span class="string">&quot;吃饭了没?&quot;</span>); <span class="comment">// 阿祖: 吃饭了没? (**)</span></span><br></pre></td></tr></table></figure>
<p>当函数在 (*) 和 (**) 行中被调用时，给定值被复制到了局部变量 <code>from</code> 和 <code>text</code>。然后函数使用它们进行计算。</p>
<p>这里还有一个例子：我们有一个变量 <code>from</code>，并将它传递给函数。请注意：函数会修改 <code>from</code>，但在函数外部看不到更改，因为函数修改的是复制的变量值副本：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"><span class="keyword">from</span>, text</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">from</span> = <span class="string">&#x27;*&#x27;</span> + <span class="keyword">from</span> + <span class="string">&#x27;*&#x27;</span>; <span class="comment">// 让 &quot;from&quot; 看起来更优雅</span></span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="keyword">from</span> + <span class="string">&#x27;: &#x27;</span> + text );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">from</span> = <span class="string">&quot;阿祖&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">showMessage</span>(<span class="keyword">from</span>, <span class="string">&quot;你好&quot;</span>); <span class="comment">// *阿祖*: 你好</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &quot;from&quot; 值相同，函数修改了一个局部的副本。</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="keyword">from</span> ); <span class="comment">// 阿祖</span></span><br></pre></td></tr></table></figure>
<p>当一个值被作为函数参数 <code>（parameter）</code> 传递时，它也被称为 参数 <code>（argument）</code>。</p>
<p>换一种方式，我们把这些术语搞清楚：</p>
<p>函数参数（parameter）是函数声明中括号内列出的变量（它是函数声明时的术语）。<br>参数（argument）是调用函数时传递给函数的值（它是函数调用时的术语）。<br>我们声明函数时列出它们的函数参数 <code>（parameters）</code>，然后调用它们传递参数 <code>（arguments）</code>。</p>
<p>在上面的例子中，我们可以说：“函数 <code>showMessage</code> 被声明，并且带有两个参数 <code>（parameters）</code>，随后它被调用，两个参数 <code>（arguments）</code> 分别为 <code>from</code> 和 “Hello””。</p>
<h2 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h2><p>如果一个函数被调用，但有参数 <code>（argument）</code> 未被提供，那么相应的值就会变成 <code>undefined</code>。</p>
<p>例如，之前提到的函数 <code>showMessage(from, text)</code> 可以只使用一个参数 <code>（argument）</code> 调用：</p>
<p><code>showMessage(&quot;Ann&quot;);</code><br>那不是错误，这样调用将输出 “<em>Ann</em>: undefined”。因为参数 <code>text</code> 的值未被传递，所以变成了 <code>undefined</code>。</p>
<p>我们可以使用 <code>=</code> 为函数声明中的参数指定所谓的“默认”（如果对应参数的值未被传递则使用）值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"><span class="keyword">from</span>, text = <span class="string">&quot;这里是默认的第二项值&quot;</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="keyword">from</span> + <span class="string">&quot;: &quot;</span> + text );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">showMessage</span>(<span class="string">&quot;阿祖&quot;</span>); <span class="comment">// 阿祖: 这里是默认的第二项值</span></span><br></pre></td></tr></table></figure>
<p>现在因为 <code> text</code> 参数未被传递，它将会得到默认值 “这里是默认的第二项值”。</p>
<p>这里 “这里是默认的第二项值” 是一个字符串，但它可以是更复杂的表达式，并且只会在缺少参数时才会被计算和分配。所以，这也是可能的：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"><span class="keyword">from</span>, text = anotherFunction()</span>) &#123;</span><br><span class="line">  <span class="comment">// anotherFunction() 仅在没有给定 text 时执行</span></span><br><span class="line">  <span class="comment">// 其运行结果将成为 text 的值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="默认参数的计算"><a href="#默认参数的计算" class="headerlink" title="默认参数的计算"></a>默认参数的计算</h2><p>在 <code>JavaScript</code> 中，每次函数在没带个别参数的情况下被调用，默认参数会被计算出来。</p>
<p>在上面的例子中，如果传递了参数 <code>text</code>，那么 <code>anotherFunction()</code> 就不会被调用。</p>
<p>如果没传递参数 <code>text</code>，那么 <code>anotherFunction()</code> 就会被调用。</p>
<p>在 <code>JavaScript</code> 老代码中的默认参数<br>几年前，<code>JavaScript</code> 不支持默认参数的语法。所以人们使用其他方式来设置默认参数。</p>
<p>如今，我们会在旧代码中看到它们。</p>
<p>例如，显式地检查 <code>undefined</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"><span class="keyword">from</span>, text</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (text === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    text = <span class="string">&#x27;未给第二项默认值&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="keyword">from</span> + <span class="string">&quot;: &quot;</span> + text );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>……或者使用 || 运算符：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params"><span class="keyword">from</span>, text</span>) &#123;</span><br><span class="line">  <span class="comment">// 如果 text 的值为假值，则分配默认值</span></span><br><span class="line">  <span class="comment">// 这样赋值 text == &quot;&quot; 与 text 无值相同</span></span><br><span class="line">  text = text || <span class="string">&#x27;未给第二项默认值&#x27;</span>;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>后备的默认参数<br>有些时候，将参数默认值的设置放在函数执行（相较更后期）而不是函数声明时，也行得通。</p>
<p>我们可以通过将参数与 <code>undefined</code> 进行比较，来检查该参数是否在函数执行期间被传递进来：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (text === <span class="literal">undefined</span>) &#123; <span class="comment">// 如果参数未被传递进来</span></span><br><span class="line">    text = <span class="string">&#x27;是个空值&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(text);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">showMessage</span>(); <span class="comment">// 是个空值</span></span><br></pre></td></tr></table></figure>
<p>……或者我们可以使用 || 运算符：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMessage</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  <span class="comment">// 如果 text 为 undefined 或者为假值，那么将其赋值为 &#x27;empty&#x27;</span></span><br><span class="line">  text = text || <span class="string">&#x27;empty&#x27;</span>;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>现代 <code>JavaScript</code> 引擎支持 空值合并运算符 <code>??</code>，它在大多数假值（例如 0）应该被视为“正常值”时更具优势：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showCount</span>(<span class="params">count</span>) &#123;</span><br><span class="line">  <span class="comment">// 如果 count 为 undefined 或 null，则提示 &quot;unknown&quot;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(count ?? <span class="string">&quot;unknown&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">showCount</span>(<span class="number">0</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="title function_">showCount</span>(<span class="literal">null</span>); <span class="comment">// unknown</span></span><br><span class="line"><span class="title function_">showCount</span>(); <span class="comment">// unknown</span></span><br></pre></td></tr></table></figure>
<h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h2><p>函数可以将一个值返回到调用代码中作为结果。</p>
<p>最简单的例子是将两个值相加的函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( result ); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>指令 <code>return</code> 可以在函数的任意位置。当执行到达时，函数停止，并将值返回给调用代码（分配给上述代码中的 <code>result</code>）。</p>
<p>在一个函数中可能会出现很多次 <code>return</code>。例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">checkAge</span>(<span class="params">age</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (age &gt;= <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">confirm</span>(<span class="string">&#x27;Got a permission from the parents?&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> age = <span class="title function_">prompt</span>(<span class="string">&#x27;How old are you?&#x27;</span>, <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="title function_">checkAge</span>(age) ) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Access granted&#x27;</span> );</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&#x27;Access denied&#x27;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>只使用 <code>return</code> 但没有返回值也是可行的。但这会导致函数立即退出。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showMovie</span>(<span class="params">age</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> ( !<span class="title function_">checkAge</span>(age) ) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Showing you the movie&quot;</span> ); <span class="comment">// (*)</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在上述代码中，如果 <code>checkAge(age)</code> 返回 <code> false</code>，那么 <code>showMovie</code> 将不会运行到 <code>console.log</code>。</p>
<p>空值的 <code>return</code> 或没有 <code>return</code> 的函数返回值为 <code>undefined</code><br>如果函数无返回值，它就会像返回 <code>undefined</code> 一样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doNothing</span>(<span class="params"></span>) &#123; <span class="comment">/* 没有代码 */</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title function_">doNothing</span>() === <span class="literal">undefined</span> ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>空值的 <code>return</code> 和 <code>return undefined</code> 等效：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doNothing</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title function_">doNothing</span>() === <span class="literal">undefined</span> ); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>不要在 <code>return</code> 与返回值之间添加新行<br>对于 <code>return</code> 的长表达式，可能你会很想将其放在单独一行，如下所示：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span></span><br><span class="line"> (some + long + expression + or + whatever * <span class="title function_">f</span>(a) + <span class="title function_">f</span>(b))</span><br></pre></td></tr></table></figure>
<p>但这不行，因为 <code>JavaScript</code> 默认会在 <code> return</code> 之后加上分号。上面这段代码和下面这段代码运行流程相同：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span>;</span><br><span class="line"> (some + long + expression + or + whatever * <span class="title function_">f</span>(a) + <span class="title function_">f</span>(b))</span><br></pre></td></tr></table></figure>
<p>因此，实际上它的返回值变成了空值。</p>
<p>如果我们想要将返回的表达式写成跨多行的形式，那么应该在 <code> return</code> 的同一行开始写此表达式。或者至少按照如下的方式放上左括号：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  some + long + expression</span><br><span class="line">  + or +</span><br><span class="line">    whatever * <span class="title function_">f</span>(a) + <span class="title function_">f</span>(b)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
<p>然后它就能像我们预想的那样正常运行了。</p>
<h2 id="函数命名"><a href="#函数命名" class="headerlink" title="函数命名"></a>函数命名</h2><p>函数就是行为 <code>（action）</code>。所以它们的名字通常是动词。它应该简短且尽可能准确地描述函数的作用。这样读代码的人就能清楚地知道这个函数的功能。</p>
<p>一种普遍的做法是用动词前缀来开始一个函数，这个前缀模糊地描述了这个行为。团队内部必须就前缀的含义达成一致。</p>
<p>例如，以 <code>&quot;show&quot;</code> 开头的函数通常会显示某些内容。</p>
<p>函数以 XX 开始……</p>
<p><code>&quot;get…&quot;</code> —— 返回一个值，<br><code>&quot;calc…&quot;</code> —— 计算某些内容，<br><code>&quot;create…&quot;</code> —— 创建某些内容，<br><code>&quot;check…&quot;</code> —— 检查某些内容并返回 <code>boolean</code> 值，等。<br>这类名字的示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">showMessage</span>(..)     <span class="comment">// 显示信息</span></span><br><span class="line"><span class="title function_">getAge</span>(..)          <span class="comment">// 返回 age（gets it somehow）</span></span><br><span class="line"><span class="title function_">calcSum</span>(..)         <span class="comment">// 计算求和并返回结果</span></span><br><span class="line"><span class="title function_">createForm</span>(..)      <span class="comment">// 创建表单（通常会返回它）</span></span><br><span class="line"><span class="title function_">checkPermission</span>(..) <span class="comment">// 检查权限并返回 true/false</span></span><br></pre></td></tr></table></figure>
<p>有了前缀，只需瞥一眼函数名，就可以了解它的功能是什么，返回什么样的值。</p>
<p>一个函数 —— 一个行为<br>一个函数应该只包含函数名所指定的功能，而不是做更多与函数名无关的功能。</p>
<p>两个独立的行为通常需要两个函数，即使它们通常被一起调用（在这种情况下，我们可以创建第三个函数来调用这两个函数）。</p>
<p>有几个违反这一规则的例子：</p>
<p><code>getAge</code> —— 如果它通过 <code>console.log</code> 将 <code>age</code> 显示出来，那就有问题了（只应该是获取）。<br><code>createForm</code> —— 如果它包含修改文档的操作，例如向文档添加一个表单，那就有问题了（只应该创建表单并返回）。<br><code>checkPermission</code> —— 如果它显示 <code>access granted/denied</code> 消息，那就有问题了（只应执行检查并返回结果）。<br>这些例子假设函数名前缀具有通用的含义。你和你的团队可以自定义这些函数名前缀的含义，但是通常都没有太大的不同。无论怎样，你都应该对函数名前缀的含义、带特定前缀的函数可以做什么以及不可以做什么有深刻的了解。所有相同前缀的函数都应该遵守相同的规则。并且，团队成员应该形成共识。</p>
<p>非常短的函数命名<br>常用的函数有时会有非常短的名字。</p>
<p>例如，<code>jQuery</code> 框架用 <code>$</code> 定义一个函数。<code>LoDash</code> 库的核心函数用 <code>_</code> 命名。</p>
<p>这些都是例外，一般而言，函数名应简明扼要且具有描述性。</p>
<h2 id="函数-注释"><a href="#函数-注释" class="headerlink" title="函数 &#x3D;&#x3D; 注释"></a>函数 &#x3D;&#x3D; 注释</h2><p>函数应该简短且只有一个功能。如果这个函数功能复杂，那么把该函数拆分成几个小的函数是值得的。有时候遵循这个规则并不是那么容易，但这绝对是件好事。</p>
<p>一个单独的函数不仅更容易测试和调试 —— 它的存在本身就是一个很好的注释！</p>
<p>例如，比较如下两个函数 <code>showPrimes(n)</code>。它们的功能都是输出到 <code>n</code> 的 素数。</p>
<p>第一个变体使用了一个标签：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showPrimes</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="attr">nextPrime</span>: <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">2</span>; j &lt; i; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i % j == <span class="number">0</span>) <span class="keyword">continue</span> nextPrime;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( i ); <span class="comment">// 一个素数</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第二个变体使用附加函数 <code>isPrime(n)</code> 来检验素数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">showPrimes</span>(<span class="params">n</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_">isPrime</span>(i)) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);  <span class="comment">// 一个素数</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isPrime</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> ( n % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第二个变体更容易理解，不是吗？我们通过函数名 <code>（isPrime）</code> 就可以看出函数的行为，而不需要通过代码。人们通常把这样的代码称为 <strong>自描述</strong>。</p>
<p>因此，即使我们不打算重用它们，也可以创建函数。函数可以让代码结构更清晰，可读性更强。</p>
<h2 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h2><p>函数声明方式如下所示：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">name</span>(<span class="params">parameters, delimited, by, comma</span>) &#123;</span><br><span class="line">  <span class="comment">/* code */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>作为参数传递给函数的值，会被复制到函数的局部变量。</p>
</li>
<li><p>函数可以访问外部变量。但它只能从内到外起作用。函数外部的代码看不到函数内的局部变量。</p>
</li>
<li><p>函数可以返回值。如果没有返回值，则其返回的结果是 undefined。</p>
</li>
<li><p>为了使代码简洁易懂，建议在函数中主要使用局部变量和参数，而不是外部变量。</p>
</li>
<li><p>与不获取参数但将修改外部变量作为副作用的函数相比，获取参数、使用参数并返回结果的函数更容易理解。</p>
</li>
<li><p>函数命名：</p>
</li>
<li><p>函数名应该清楚地描述函数的功能。当我们在代码中看到一个函数调用时，一个好的函数名能够让我们马上知道这个函数的功能是什么，会返回什么。</p>
</li>
<li><p>一个函数是一个行为，所以函数名通常是动词。</p>
</li>
<li><p>目前有许多优秀的函数名前缀，如 create…、show…、get…、check… 等等。使用它们来提示函数的作用吧。</p>
</li>
</ul>
<p>函数是脚本的主要构建块。现在我们已经介绍了基本知识，现在我们就可以开始创建和使用函数了。但这只是学习和使用函数的开始。我们将继续学习更多函数的相关知识，更深入地研究它们的先进特征。</p>
<hr>
<h1 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h1><p>在 <code>JavaScript</code> 中，函数不是“神奇的语言结构”，而是一种特殊的值。</p>
<p>我们在前面章节使用的语法称为 函数声明：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Hello&quot;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>另一种创建函数的语法称为 <strong>函数表达式</strong>。</p>
<p>它允许我们在任何表达式的中间创建一个新函数。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sayHi = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Hello&quot;</span> );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>在这里我们可以看到变量 <code>sayHi</code> 得到了一个值，新函数 <code>function() &#123; console.log(&quot;Hello&quot;)</code>; }。</p>
<p>由于函数创建发生在赋值表达式的上下文中（在 &#x3D; 的右侧），因此这是一个 <strong>函数表达式</strong>。</p>
<p>请注意，在上述代码中 <code>function</code> 关键字后面没有函数名。函数表达式允许省略函数名。</p>
<p>这里我们立即将它赋值给变量，所以上面的两个代码示例的含义是一样的：<br>“创建一个函数并将其放入变量 <code>sayHi</code> 中”。</p>
<p>在更多更高阶的情况下，稍后我们会遇到，可以创建一个函数并立即调用，或者安排稍后执行，而不是存储在任何地方，因此保持匿名。</p>
<p><strong>函数是一个值</strong><br>重申一次：无论函数是如何创建的，函数都是一个值。上面的两个示例都在 <code>sayHi</code> 变量中存储了一个函数。</p>
<p>我们还可以用 <code>console.log</code> 显示这个变量的值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Hello&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( sayHi ); <span class="comment">// 显示函数代码</span></span><br></pre></td></tr></table></figure>
<p>注意，最后一行代码并不会运行函数，因为 <code>sayHi</code> 后没有括号。在某些编程语言中，只要提到函数的名称都会导致函数的调用执行，但 <code>JavaScript</code> 可不是这样。</p>
<p>在 <code>JavaScript</code> 中，函数是一个值，所以我们可以把它当成值对待。上面代码显示了一段字符串值，即函数的源码。</p>
<p>的确，在某种意义上说一个函数是一个特殊值，我们可以像 <code>sayHi()</code> 这样调用它。</p>
<p>但它依然是一个值，所以我们可以像使用其他类型的值一样使用它。</p>
<p>我们可以复制函数到其他变量：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;   <span class="comment">// (1) 创建</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Hello&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> func = sayHi;    <span class="comment">// (2) 复制</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">func</span>(); <span class="comment">// Hello     // (3) 运行复制的值（正常运行）！</span></span><br><span class="line"><span class="title function_">sayHi</span>(); <span class="comment">// Hello    //     这里也能运行</span></span><br></pre></td></tr></table></figure>
<p>解释一下上段代码发生的细节：</p>
<p>(1) 行声明创建了函数，并把它放入到变量 <code>sayHi</code>。<br>(2) 行将 <code>sayHi</code> 复制到了变量 <code>func</code>。请注意：<code>sayHi</code> 后面没有括号。如果有括号，<code>func = sayHi()</code> 会把 <code>sayHi()</code> 的调用结果写进 <code>func</code>  ，而不是 <code>sayHi 函数</code> 本身。<br>现在函数可以通过 <code>sayHi()</code> 和 <code>func()</code> 两种方式进行调用。<br>我们也可以在第一行中使用函数表达式来声明 <code>sayHi</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sayHi = <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="comment">// (1) 创建</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Hello&quot;</span> );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> func = sayHi;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>
<p>这两种声明的函数是一样的。</p>
<p>为什么这里末尾会有个分号？<br>你可能想知道，为什么函数表达式结尾有一个分号 <code>;</code>，而函数声明没有：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sayHi = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>答案很简单：这里函数表达式是在赋值语句 <code>let sayHi = ...;</code> 中以 <code>function(…) &#123;…&#125;</code> 的形式创建的。建议在语句末尾加上分号 <code>;</code> ，它不是函数语法的一部分。</p>
<p>分号用于更简单的赋值，例如 <code>let sayHi = 5;</code>，它也用于函数赋值。</p>
<h2 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h2><p>让我们多举几个例子，看看如何将函数作为值来传递以及如何使用函数表达式。</p>
<p>我们写一个包含三个参数的函数 <code>ask(question, yes, no)</code>：</p>
<p><code>question</code>  关于问题的文本<br><code>yes</code> 当回答为 “Yes” 时，要运行的脚本<br><code>no</code> 当回答为 “No” 时，要运行的脚本<br>函数需要提出 <code>question（问题）</code>，并根据用户的回答，调用 <code>yes()</code> 或 <code>no()</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ask</span>(<span class="params">question, yes, no</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title function_">confirm</span>(question)) <span class="title function_">yes</span>()</span><br><span class="line">  <span class="keyword">else</span> <span class="title function_">no</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showOk</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;You agreed.&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showCancel</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;You canceled the execution.&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 用法：函数 showOk 和 showCancel 被作为参数传入到 ask</span></span><br><span class="line"><span class="title function_">ask</span>(<span class="string">&quot;Do you agree?&quot;</span>, showOk, showCancel);</span><br></pre></td></tr></table></figure>
<p>在实际开发中，这样的函数是非常有用的。实际开发与上述示例最大的区别是，实际开发中的函数会通过更加复杂的方式与用户进行交互，而不是通过简单的 <code>confirm</code>。在浏览器中，这样的函数通常会绘制一个漂亮的提问窗口。但这是另外一件事了。</p>
<p><code>ask</code> 的两个参数值 <code>showOk</code> 和 <code>showCancel</code> 可以被称为 <strong>回调函数</strong> 或简称 <strong>回调</strong>。</p>
<p>主要思想是我们传递一个函数，并期望在稍后必要时将其“回调”。在我们的例子中，<code>showOk</code> 是回答 “yes” 的回调，<code>showCancel</code> 是回答 “no” 的回调。</p>
<p>我们可以使用函数表达式来编写一个等价的、更简洁的函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ask</span>(<span class="params">question, yes, no</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title function_">confirm</span>(question)) <span class="title function_">yes</span>()</span><br><span class="line">  <span class="keyword">else</span> <span class="title function_">no</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">ask</span>(</span><br><span class="line">  <span class="string">&quot;Do you agree?&quot;</span>,</span><br><span class="line">  <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;You agreed.&quot;</span>); &#125;,</span><br><span class="line">  <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;You canceled the execution.&quot;</span>); &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>这里直接在 <code>ask(...)</code> 调用内进行函数声明。这两个函数没有名字，所以叫 <strong>匿名函数</strong>。这样的函数在 <code>ask</code> 外无法访问（因为没有对它们分配变量），不过这正是我们想要的。</p>
<p>这样的代码在我们的脚本中非常常见，这正符合 <code>JavaScript</code> 语言的思想。</p>
<p>一个函数是表示一个“行为”的值。字符串或数字等常规值代表 <code>数据</code>。</p>
<p>函数可以被视为一个 <code>行为（action）</code>。</p>
<p>我们可以在变量之间传递它们，并在需要时运行。</p>
<h2 id="函数表达式-vs-函数声明"><a href="#函数表达式-vs-函数声明" class="headerlink" title="函数表达式 vs 函数声明"></a>函数表达式 vs 函数声明</h2><p>让我们来总结一下函数声明和函数表达式之间的主要区别。</p>
<ul>
<li>首先是语法：如何通过代码对它们进行区分。</li>
</ul>
<p>函数声明：在主代码流中声明为单独的语句的函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数声明</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>函数表达式：在一个表达式中或另一个语法结构中创建的函数。下面这个函数是在赋值表达式 &#x3D; 右侧创建的：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>更细微的差别是，<code>JavaScript</code> 引擎会在 什么时候 创建函数。</li>
</ul>
<p>函数表达式是在代码执行到达时被创建，并且仅从那一刻起可用。</p>
<p>一旦代码执行到赋值表达式 let sum &#x3D; function… 的右侧，此时就会开始创建该函数，并且可以从现在开始使用（分配，调用等）。</p>
<p>函数声明则不同。</p>
<p>在函数声明被定义之前，它就可以被调用。</p>
<p>例如，一个全局函数声明对整个脚本来说都是可见的，无论它被写在这个脚本的哪个位置。</p>
<p>这是内部算法的缘故。当 <code>JavaScript</code> 准备 运行脚本时，首先会在脚本中寻找全局函数声明，并创建这些函数。我们可以将其视为“初始化阶段”。</p>
<p>在处理完所有函数声明后，代码才被执行。所以运行时能够使用这些函数。</p>
<p>例如下面的代码会正常工作：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">sayHi</span>(<span class="string">&quot;John&quot;</span>); <span class="comment">// Hello, John</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">`Hello, <span class="subst">$&#123;name&#125;</span>`</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>函数声明 <code>sayHi</code> 是在 <code>JavaScript</code> 准备运行脚本时被创建的，在这个脚本的任何位置都可见。</p>
<p>……如果它是一个函数表达式，它就不会工作：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">sayHi</span>(<span class="string">&quot;John&quot;</span>); <span class="comment">// error!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sayHi = <span class="keyword">function</span>(<span class="params">name</span>) &#123;  <span class="comment">// (*) no magic any more</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">`Hello, <span class="subst">$&#123;name&#125;</span>`</span> );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>函数表达式在代码执行到它时才会被创建。只会发生在 (*) 行。为时已晚。</p>
<ul>
<li>函数声明的另外一个特殊的功能是它们的块级作用域。</li>
</ul>
<p>严格模式下，当一个函数声明在一个代码块内时，它在该代码块内的任何位置都是可见的。但在代码块外不可见。</p>
<p>例如，想象一下我们需要依赖于在代码运行过程中获得的变量 <code>age</code> 声明一个函数 <code>welcome()</code>。并且我们计划在之后的某个时间使用它。</p>
<p>如果我们使用函数声明，则以下代码无法像预期那样工作：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="title function_">prompt</span>(<span class="string">&quot;What is your age?&quot;</span>, <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 有条件地声明一个函数</span></span><br><span class="line"><span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">welcome</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">welcome</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Greetings!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ……稍后使用</span></span><br><span class="line"><span class="title function_">welcome</span>(); <span class="comment">// Error: welcome is not defined</span></span><br></pre></td></tr></table></figure>
<p>这是因为函数声明只在它所在的代码块中可见。</p>
<p>下面是另一个例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">16</span>; <span class="comment">// 拿 16 作为例子</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line">  <span class="title function_">welcome</span>();               <span class="comment">// \   (运行)</span></span><br><span class="line">                           <span class="comment">//  |</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">welcome</span>(<span class="params"></span>) &#123;     <span class="comment">//  |</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello!&quot;</span>);       <span class="comment">//  |  函数声明在声明它的代码块内任意位置都可用</span></span><br><span class="line">  &#125;                        <span class="comment">//  |</span></span><br><span class="line">                           <span class="comment">//  |</span></span><br><span class="line">  <span class="title function_">welcome</span>();               <span class="comment">// /   (运行)</span></span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">welcome</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Greetings!&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在这里，我们在花括号外部调用函数，我们看不到它们内部的函数声明。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">welcome</span>(); <span class="comment">// Error: welcome is not defined</span></span><br></pre></td></tr></table></figure>
<p>我们怎么才能让 <code>welcome</code> 在 <code>if</code> 外可见呢？</p>
<p>正确的做法是使用函数表达式，并将 <code>welcome</code> 赋值给在 if 外声明的变量，并具有正确的可见性。</p>
<p>下面的代码可以如愿运行：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="title function_">prompt</span>(<span class="string">&quot;What is your age?&quot;</span>, <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> welcome;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (age &lt; <span class="number">18</span>) &#123;</span><br><span class="line"></span><br><span class="line">  welcome = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">  welcome = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Greetings!&quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">welcome</span>(); <span class="comment">// 现在可以了</span></span><br></pre></td></tr></table></figure>
<p>或者我们可以使用问号运算符 ? 来进一步对代码进行简化：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="title function_">prompt</span>(<span class="string">&quot;What is your age?&quot;</span>, <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> welcome = (age &lt; <span class="number">18</span>) ?</span><br><span class="line">  <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello!&quot;</span>); &#125; :</span><br><span class="line">  <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Greetings!&quot;</span>); &#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">welcome</span>(); <span class="comment">// 现在可以了</span></span><br></pre></td></tr></table></figure>
<ul>
<li>什么时候选择函数声明与函数表达式？<br>根据经验，当我们需要声明一个函数时，优先考虑函数声明语法。它能够为组织代码提供更多的灵活性。因为我们可以在声明这些函数之前调用这些函数。</li>
</ul>
<p>这对代码可读性也更好，因为在代码中查找 <code>function f(…) &#123;…&#125;</code> 比 <code>let f = function(…) &#123;…&#125;</code> 更容易。函数声明更“醒目”。</p>
<p>……但是，如果由于某种原因而导致函数声明不适合我们（我们刚刚看过上面的例子），那么应该使用函数表达式。</p>
<h2 id="总结-5"><a href="#总结-5" class="headerlink" title="总结"></a>总结</h2><ul>
<li><p>函数是值。它们可以在代码的任何地方被分配，复制或声明。</p>
</li>
<li><p>如果函数在主代码流中被声明为单独的语句，则称为“函数声明”。</p>
</li>
<li><p>如果该函数是作为表达式的一部分创建的，则称其“函数表达式”。</p>
</li>
<li><p>在执行代码块之前，内部算法会先处理函数声明。所以函数声明在其被声明的代码块内的任何位置都是可见的。</p>
</li>
<li><p>函数表达式在执行流程到达时创建。</p>
</li>
<li><p>在大多数情况下，当我们需要声明一个函数时，最好使用函数声明，因为函数在被声明之前也是可见的。这使我们在代码组织方面更具灵活性，通常也会使得代码可读性更高。</p>
</li>
<li><p>所以，仅当函数声明不适合对应的任务时，才应使用函数表达式。在本章中，我们已经看到了几个例子，以后还会看到更多的例子。</p>
</li>
</ul>
<hr>
<h1 id="箭头函数，基础知识"><a href="#箭头函数，基础知识" class="headerlink" title="箭头函数，基础知识"></a>箭头函数，基础知识</h1><p>创建函数还有另外一种非常简单的语法，并且这种方法通常比函数表达式更好。</p>
<p>它被称为 <strong>“箭头函数”</strong>，因为它看起来像这样：</p>
<p><code>let func = (arg1, arg2, ..., argN) =&gt; expression;</code><br>这里创建了一个函数 <code>func</code>，它接受参数 <code>arg1..argN</code>，然后使用参数对右侧的 <code>expression</code> 求值并返回其结果。</p>
<p>换句话说，它是下面这段代码的更短的版本：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> func = <span class="keyword">function</span>(<span class="params">arg1, arg2, ..., argN</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> expression;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>让我们来看一个具体的例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">sum</span> = (<span class="params">a, b</span>) =&gt; a + b;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 这个箭头函数是下面这个函数的更短的版本：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">let sum = function(a, b) &#123;</span></span><br><span class="line"><span class="comment">  return a + b;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>) ); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>可以看到 <code>(a, b) =&gt; a + b</code> 表示一个函数接受两个名为 <code>a</code> 和 <code>b</code> 的参数。在执行时，它将对表达式 <code>a + b</code> 求值，并返回计算结果。</p>
<p>如果我们只有一个参数，还可以省略掉参数外的圆括号，使代码更短。</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">double</span> = n =&gt; n * <span class="number">2</span>;</span><br><span class="line"><span class="comment">// 差不多等同于：let double = function(n) &#123; return n * 2 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title function_">double</span>(<span class="number">3</span>) ); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<p>如果没有参数，括号则是空的（但括号必须保留）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">sayHi</span> = (<span class="params"></span>) =&gt; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">sayHi</span>();</span><br></pre></td></tr></table></figure>
<p>箭头函数可以像函数表达式一样使用。</p>
<p>例如，动态创建一个函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="title function_">prompt</span>(<span class="string">&quot;What is your age?&quot;</span>, <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> welcome = (age &lt; <span class="number">18</span>) ?</span><br><span class="line">  <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello!&#x27;</span>) :</span><br><span class="line">  <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Greetings!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">welcome</span>();</span><br></pre></td></tr></table></figure>
<p>一开始，箭头函数可能看起来并不熟悉，也不容易读懂，但一旦我们看习惯了之后，这种情况很快就会改变。</p>
<p>箭头函数对于简单的单行行为 <code>（action）</code> 来说非常方便，尤其是当我们懒得打太多字的时候。</p>
<h2 id="多行的箭头函数"><a href="#多行的箭头函数" class="headerlink" title="多行的箭头函数"></a>多行的箭头函数</h2><p>到目前为止，我们看到的箭头函数非常简单。它们从 <code>=&gt;</code> 的左侧获取参数，计算并返回右侧表达式的计算结果。</p>
<p>有时我们需要更复杂一点的函数，比如带有多行的表达式或语句。在这种情况下，我们可以使用花括号将它们括起来。主要区别在于，用花括号括起来之后，需要包含 <code>return</code> 才能返回值（就像常规函数一样）。</p>
<p>就像这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">sum</span> = (<span class="params">a, b</span>) =&gt; &#123;  <span class="comment">// 花括号表示开始一个多行函数</span></span><br><span class="line">  <span class="keyword">let</span> result = a + b;</span><br><span class="line">  <span class="keyword">return</span> result; <span class="comment">// 如果我们使用了花括号，那么我们需要一个显式的 “return”</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>) ); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<h2 id="更多内容"><a href="#更多内容" class="headerlink" title="更多内容"></a>更多内容</h2><p>在这里，我们赞扬了箭头函数的简洁性。但还不止这些！</p>
<p>箭头函数还有其他有趣的特性。</p>
<p>为了更深入地学习它们，我们首先需要了解一些 <code>JavaScript</code> 其他方面的知识，因此我们将在后面的 深入理解箭头函数 一章中再继续研究箭头函数。</p>
<p>现在，我们已经可以用箭头函数进行单行行为和回调了。</p>
<h2 id="总结-6"><a href="#总结-6" class="headerlink" title="总结"></a>总结</h2><p>箭头函数对于简单的操作很方便，特别是对于单行的函数。它具体有两种形式：</p>
<ul>
<li><p>不带花括号：<code>(...args) =&gt; expression</code> —— 右侧是一个表达式：函数计算表达式并返回其结果。如果只有一个参数，则可以省略括号，例如 <code>n =&gt; n*2</code>。</p>
</li>
<li><p>带花括号：<code>(...args) =&gt; &#123; body &#125;</code> —— 花括号允许我们在函数中编写多个语句，但是我们需要显式地 <code>return</code> 来返回一些内容。</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">mindmap</span><br><span class="line">	root(&quot;JavaScript学习笔记&quot;)</span><br><span class="line">		(&quot;JS 基础内容&quot;)</span><br><span class="line">		(&quot;关于 JavaScript 的一些基本常识&quot;)</span><br><span class="line">			(&quot;如何把代码运行的结果显示出来？&quot;)</span><br><span class="line">			(&quot;注释&quot;)</span><br><span class="line">			(&quot;现代模式/严格模式 &quot;)</span><br><span class="line">			(&quot;三种特殊值&quot;)</span><br><span class="line">		(&quot;变量&quot;)</span><br><span class="line">		(&quot;数据类型&quot;)</span><br><span class="line">			(&quot;文本串类型&quot;)</span><br><span class="line">				(&quot;引号 （quotes）&quot;)</span><br><span class="line">				(&quot;特殊字符  / 转义字符&quot;)</span><br><span class="line">				(&quot;字符串长度 length&quot;)</span><br><span class="line">				(&quot;访问字符&quot;)</span><br><span class="line">				(&quot;字母大小写转换&quot;)</span><br><span class="line">				(&quot;在字符串查找是否包含另一个字符串&quot;)</span><br><span class="line">			(&quot;数字类型&quot;)</span><br><span class="line">				(&quot;科学计数法&quot;)</span><br><span class="line">				(&quot;数字进制转换&quot;)</span><br><span class="line">				(&quot;舍入&quot;)</span><br><span class="line">				(&quot;检测变量是不是数字      &quot;)</span><br><span class="line">				(&quot;区别&quot;)</span><br><span class="line">				(&quot;注意事项&quot;)</span><br><span class="line">				(&quot;提取文本串中开头的数字&quot;)</span><br><span class="line">				(&quot;注意事项&quot;)</span><br><span class="line">				(&quot;数字函数&quot;)</span><br><span class="line">				(&quot;变量的数据类型转换&quot;)</span><br><span class="line">					(&quot;**转换成字符串**&quot;)</span><br><span class="line">					(&quot;**转换成数字**&quot;)</span><br><span class="line">					(&quot;**转换成布尔（boolean）类型**&quot;)</span><br><span class="line">					(&quot;总结&quot;)</span><br><span class="line">		(&quot;数学运算&quot;)</span><br><span class="line">			(&quot;术语：“一元运算符”，“二元运算符”，“运算元”&quot;)</span><br><span class="line">			(&quot;数学运算&quot;)</span><br><span class="line">				(&quot;取余 %&quot;)</span><br><span class="line">				(&quot;求幂 **&quot;)</span><br><span class="line">			(&quot;用二元运算符 +         连接字符串&quot;)</span><br><span class="line">			(&quot;数字转化，一元运算符 +&quot;)</span><br><span class="line">			(&quot;运算符优先级&quot;)</span><br><span class="line">			(&quot;赋值运算符&quot;)</span><br><span class="line">				(&quot;赋值 = 返回一个值&quot;)</span><br><span class="line">				(&quot;链式赋值（Chaining assignments）&quot;)</span><br><span class="line">			(&quot;原地修改&quot;)</span><br><span class="line">			(&quot;自增/自减&quot;)</span><br><span class="line">			(&quot;位运算符&quot;)</span><br><span class="line">			(&quot;逗号运算符&quot;)</span><br><span class="line">		(&quot;值的比较&quot;)</span><br><span class="line">			(&quot;比较的结果是 Boolean 类型&quot;)</span><br><span class="line">			(&quot;字符串比较&quot;)</span><br><span class="line">			(&quot;不同类型间的比较&quot;)</span><br><span class="line">			(&quot;严格相等&quot;)</span><br><span class="line">			(&quot;对 null 和 undefined 进行比较&quot;)</span><br><span class="line">				(&quot;奇怪的结果：null vs 0&quot;)</span><br><span class="line">				(&quot;特立独行的 undefined&quot;)</span><br><span class="line">				(&quot;避免问题&quot;)</span><br><span class="line">			(&quot;总结&quot;)</span><br><span class="line">		(&quot;条件分支：if 和 &#x27;?&#x27;&quot;)</span><br><span class="line">			(&quot;“if” 语句&quot;)</span><br><span class="line">			(&quot;布尔转换&quot;)</span><br><span class="line">			(&quot;“else” 语句&quot;)</span><br><span class="line">			(&quot;多个条件：“else if”&quot;)</span><br><span class="line">			(&quot;条件运算符 ‘?’&quot;)</span><br><span class="line">			(&quot;多个 ‘?’&quot;)</span><br><span class="line">			(&quot;‘?’ 的非常规使用&quot;)</span><br><span class="line">		(&quot;逻辑运算符&quot;)</span><br><span class="line">			(&quot;||（或）&quot;)</span><br><span class="line">			(&quot;或运算寻找第一个真值&quot;)</span><br><span class="line">			(&quot;&amp;&amp;（与）&quot;)</span><br><span class="line">			(&quot;与运算寻找第一个假值&quot;)</span><br><span class="line">			(&quot;!（非）&quot;)</span><br><span class="line">		(&quot;空值合并运算符 &#x27; ?? &#x27;&quot;)</span><br><span class="line">			(&quot;与 || 比较&quot;)</span><br><span class="line">			(&quot;优先级&quot;)</span><br><span class="line">				(&quot;?? 与 &amp;&amp; 或 || 一起使用&quot;)</span><br><span class="line">			(&quot;总结&quot;)</span><br><span class="line">		(&quot;循环：while 和 for&quot;)</span><br><span class="line">			(&quot;“while” 循环&quot;)</span><br><span class="line">			(&quot;“do…while” 循环&quot;)</span><br><span class="line">			(&quot;“for” 循环&quot;)</span><br><span class="line">				(&quot;省略语句段&quot;)</span><br><span class="line">			(&quot;跳出循环&quot;)</span><br><span class="line">			(&quot;继续下一次迭代&quot;)</span><br><span class="line">			(&quot;break/continue 标签&quot;)</span><br><span class="line">			(&quot;总结&quot;)</span><br><span class="line">		(&quot;switch 语句&quot;)</span><br><span class="line">			(&quot;语法&quot;)</span><br><span class="line">			(&quot;举个例子&quot;)</span><br><span class="line">			(&quot;“case” 分组&quot;)</span><br><span class="line">			(&quot;[类型很关键](https://zh.javascript.info/switch#lei-xing-hen-guan-jian)&quot;)</span><br><span class="line">		(&quot;函数&quot;)</span><br><span class="line">			(&quot;函数声明&quot;)</span><br><span class="line">			(&quot;局部变量&quot;)</span><br><span class="line">			(&quot;外部变量&quot;)</span><br><span class="line">			(&quot;全局变量&quot;)</span><br><span class="line">			(&quot;参数&quot;)</span><br><span class="line">			(&quot;默认值&quot;)</span><br><span class="line">			(&quot;默认参数的计算&quot;)</span><br><span class="line">			(&quot;返回值&quot;)</span><br><span class="line">			(&quot;函数命名&quot;)</span><br><span class="line">			(&quot;函数 == 注释&quot;)</span><br><span class="line">			(&quot;总结&quot;)</span><br><span class="line">		(&quot;函数表达式&quot;)</span><br><span class="line">			(&quot;回调函数&quot;)</span><br><span class="line">			(&quot;函数表达式 vs 函数声明&quot;)</span><br><span class="line">			(&quot;总结&quot;)</span><br><span class="line">		(&quot;箭头函数，基础知识&quot;)</span><br><span class="line">			(&quot;多行的箭头函数&quot;)</span><br><span class="line">			(&quot;更多内容&quot;)</span><br><span class="line">			(&quot;总结&quot;)</span><br></pre></td></tr></table></figure>























</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a></div><div class="post_share"></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>点我对博主进行赞赏——最真诚的认可🍻！</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/images/paymentCode/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/images/paymentCode/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/images/paymentCode/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/images/paymentCode/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/blog/chemistry/easy-mistake/2024zhenti.html" title="2024高考化学易错题整理"><img class="cover" src="https://i0.hdslb.com/bfs/article/ff2668b0d20c781138cbba7a7f70c77ff78e8a75.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">2024高考化学易错题整理</div></div></a></div><div class="next-post pull-right"><a href="/blog/note/code/html.html" title="HTML学习笔记"><img class="cover" src="https://s3-alpha.figma.com/hub/file/4278211142/d7ec2989-66f7-4ebe-89c9-b68ca16a5391-cover.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">HTML学习笔记</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/blog/note/code/JavaScript3.html" title="JavaScript学习笔记（3）数据类型-进阶"><img class="cover" src="https://emaillistvalidation.com/blog/content/images/2023/09/JavaScript-Symbol.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2024-10-14</div><div class="title">JavaScript学习笔记（3）数据类型-进阶</div></div></a></div><div><a href="/blog/note/code/JavaScript2.html" title="JavaScript学习笔记（2）对象object"><img class="cover" src="https://emaillistvalidation.com/blog/content/images/2023/09/JavaScript-Symbol.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2024-10-14</div><div class="title">JavaScript学习笔记（2）对象object</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://puui.qpic.cn/vpic_cover/l3165317c7s/l3165317c7s_hz.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">玉伏树</div><div class="author-info__description">日拱一卒，不期而至</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">22</div></a></div><a id="card-info-btn" href="mailto:ahoucide@qq.com"><i class="fab fa fa-envelope"></i><span>联系我</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-JavaScript-%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E5%B8%B8%E8%AF%86"><span class="toc-number">1.</span> <span class="toc-text">关于 JavaScript 的一些基本常识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%8A%8A%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E7%9A%84%E7%BB%93%E6%9E%9C%E6%98%BE%E7%A4%BA%E5%87%BA%E6%9D%A5%EF%BC%9F"><span class="toc-number">1.1.</span> <span class="toc-text">如何把代码运行的结果显示出来？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.2.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%B0%E4%BB%A3%E6%A8%A1%E5%BC%8F-%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F-use-strict"><span class="toc-number">1.3.</span> <span class="toc-text">现代模式&#x2F;严格模式 use strict</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E7%89%B9%E6%AE%8A%E5%80%BC"><span class="toc-number">1.4.</span> <span class="toc-text">三种特殊值</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">2.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.1.</span> <span class="toc-text">文本串类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%8F%B7-%EF%BC%88quotes%EF%BC%89"><span class="toc-number">3.1.1.</span> <span class="toc-text">引号 （quotes）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6-%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-number">3.1.2.</span> <span class="toc-text">特殊字符  &#x2F; 转义字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6-length"><span class="toc-number">3.1.3.</span> <span class="toc-text">字符串长度 length</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%AD%97%E7%AC%A6"><span class="toc-number">3.1.4.</span> <span class="toc-text">访问字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%9A%84"><span class="toc-number">3.1.5.</span> <span class="toc-text">字符串是不可变的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E6%AF%8D%E5%A4%A7%E5%B0%8F%E5%86%99%E8%BD%AC%E6%8D%A2"><span class="toc-number">3.1.6.</span> <span class="toc-text">字母大小写转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.1.7.</span> <span class="toc-text">在字符串查找是否包含另一个字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.1.8.</span> <span class="toc-text">获取子字符串</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.</span> <span class="toc-text">数字类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%91%E5%AD%A6%E8%AE%A1%E6%95%B0%E6%B3%95"><span class="toc-number">3.2.1.</span> <span class="toc-text">科学计数法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="toc-number">3.2.2.</span> <span class="toc-text">数字进制转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%88%8D%E5%85%A5"><span class="toc-number">3.2.3.</span> <span class="toc-text">舍入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%B5%8B%E5%8F%98%E9%87%8F%E6%98%AF%E4%B8%8D%E6%98%AF%E6%95%B0%E5%AD%97"><span class="toc-number">3.2.4.</span> <span class="toc-text">检测变量是不是数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB"><span class="toc-number">3.2.5.</span> <span class="toc-text">区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">3.2.6.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E6%96%87%E6%9C%AC%E4%B8%B2%E4%B8%AD%E5%BC%80%E5%A4%B4%E7%9A%84%E6%95%B0%E5%AD%97"><span class="toc-number">3.2.7.</span> <span class="toc-text">提取文本串中开头的数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1"><span class="toc-number">3.2.8.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.9.</span> <span class="toc-text">数字函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">3.2.10.</span> <span class="toc-text">变量的数据类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E6%88%90%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.2.10.1.</span> <span class="toc-text">转换成字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E6%88%90%E6%95%B0%E5%AD%97"><span class="toc-number">3.2.10.2.</span> <span class="toc-text">转换成数字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E6%88%90%E5%B8%83%E5%B0%94%EF%BC%88boolean%EF%BC%89%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.10.3.</span> <span class="toc-text">转换成布尔（boolean）类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.2.10.4.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="toc-number">4.</span> <span class="toc-text">数学运算</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AF%E8%AF%AD%EF%BC%9A%E2%80%9C%E4%B8%80%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%E2%80%9D%EF%BC%8C%E2%80%9C%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6%E2%80%9D%EF%BC%8C%E2%80%9C%E8%BF%90%E7%AE%97%E5%85%83%E2%80%9D"><span class="toc-number">4.1.</span> <span class="toc-text">术语：“一元运算符”，“二元运算符”，“运算元”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97-1"><span class="toc-number">4.2.</span> <span class="toc-text">数学运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96%E4%BD%99"><span class="toc-number">4.2.1.</span> <span class="toc-text">取余 %</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E5%B9%82"><span class="toc-number">4.2.2.</span> <span class="toc-text">求幂 **</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6-%E8%BF%9E%E6%8E%A5%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">4.3.</span> <span class="toc-text">用二元运算符 +         连接字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E8%BD%AC%E5%8C%96%EF%BC%8C%E4%B8%80%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.4.</span> <span class="toc-text">数字转化，一元运算符 +</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">4.5.</span> <span class="toc-text">运算符优先级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.6.</span> <span class="toc-text">赋值运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC-%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%80%BC"><span class="toc-number">4.6.1.</span> <span class="toc-text">赋值 &#x3D; 返回一个值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E5%BC%8F%E8%B5%8B%E5%80%BC%EF%BC%88Chaining-assignments%EF%BC%89"><span class="toc-number">4.6.2.</span> <span class="toc-text">链式赋值（Chaining assignments）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E5%9C%B0%E4%BF%AE%E6%94%B9"><span class="toc-number">4.7.</span> <span class="toc-text">原地修改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%A2%9E-%E8%87%AA%E5%87%8F"><span class="toc-number">4.8.</span> <span class="toc-text">自增&#x2F;自减</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.9.</span> <span class="toc-text">位运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%97%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.10.</span> <span class="toc-text">逗号运算符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%80%BC%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">5.</span> <span class="toc-text">值的比较</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E7%9A%84%E7%BB%93%E6%9E%9C%E6%98%AF-Boolean-%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.1.</span> <span class="toc-text">比较的结果是 Boolean 类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83"><span class="toc-number">5.2.</span> <span class="toc-text">字符串比较</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E9%97%B4%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">5.3.</span> <span class="toc-text">不同类型间的比较</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A5%E6%A0%BC%E7%9B%B8%E7%AD%89"><span class="toc-number">5.4.</span> <span class="toc-text">严格相等</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9-null-%E5%92%8C-undefined-%E8%BF%9B%E8%A1%8C%E6%AF%94%E8%BE%83"><span class="toc-number">5.5.</span> <span class="toc-text">对 null 和 undefined 进行比较</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A5%87%E6%80%AA%E7%9A%84%E7%BB%93%E6%9E%9C%EF%BC%9Anull-vs-0"><span class="toc-number">5.5.1.</span> <span class="toc-text">奇怪的结果：null vs 0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%AB%8B%E7%8B%AC%E8%A1%8C%E7%9A%84-undefined"><span class="toc-number">5.5.2.</span> <span class="toc-text">特立独行的 undefined</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E9%97%AE%E9%A2%98"><span class="toc-number">5.5.3.</span> <span class="toc-text">避免问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">5.6.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%86%E6%94%AF%EF%BC%9Aif-%E5%92%8C-%E2%80%98-%E2%80%99"><span class="toc-number">6.</span> <span class="toc-text">条件分支：if 和 ‘?’</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%9Cif%E2%80%9D-%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.1.</span> <span class="toc-text">“if” 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E8%BD%AC%E6%8D%A2"><span class="toc-number">6.2.</span> <span class="toc-text">布尔转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%9Celse%E2%80%9D-%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.3.</span> <span class="toc-text">“else” 语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E6%9D%A1%E4%BB%B6%EF%BC%9A%E2%80%9Celse-if%E2%80%9D"><span class="toc-number">6.4.</span> <span class="toc-text">多个条件：“else if”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6-%E2%80%98-%E2%80%99"><span class="toc-number">6.5.</span> <span class="toc-text">条件运算符 ‘?’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA-%E2%80%98-%E2%80%99"><span class="toc-number">6.6.</span> <span class="toc-text">多个 ‘?’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%98-%E2%80%99-%E7%9A%84%E9%9D%9E%E5%B8%B8%E8%A7%84%E4%BD%BF%E7%94%A8"><span class="toc-number">6.7.</span> <span class="toc-text">‘?’ 的非常规使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">7.</span> <span class="toc-text">逻辑运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E6%88%96%EF%BC%89"><span class="toc-number">7.1.</span> <span class="toc-text">||（或）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%88%96%E8%BF%90%E7%AE%97%E5%AF%BB%E6%89%BE%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%9C%9F%E5%80%BC"><span class="toc-number">7.2.</span> <span class="toc-text">或运算寻找第一个真值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E4%B8%8E%EF%BC%89"><span class="toc-number">7.3.</span> <span class="toc-text">&amp;&amp;（与）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E8%BF%90%E7%AE%97%E5%AF%BB%E6%89%BE%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%81%87%E5%80%BC"><span class="toc-number">7.4.</span> <span class="toc-text">与运算寻找第一个假值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%BC%88%E9%9D%9E%EF%BC%89"><span class="toc-number">7.5.</span> <span class="toc-text">!（非）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E8%BF%90%E7%AE%97%E7%AC%A6-%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E5%9C%A8%E6%89%80%E6%9C%89%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8C%E9%9D%A2%E6%9C%80%E9%AB%98%EF%BC%8C%E6%89%80%E4%BB%A5%E5%AE%83%E6%80%BB%E6%98%AF%E5%9C%A8-%E5%92%8C-%E4%B9%8B%E5%89%8D%E6%89%A7%E8%A1%8C%E3%80%82https-zh-javascript-info-logical-operators"><span class="toc-number">7.6.</span> <span class="toc-text">非运算符 ! 的优先级在所有逻辑运算符里面最高，所以它总是在 &amp;&amp; 和 || 之前执行。https:&#x2F;&#x2F;zh.javascript.info&#x2F;logical-operators</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A9%BA%E5%80%BC%E5%90%88%E5%B9%B6%E8%BF%90%E7%AE%97%E7%AC%A6-%E2%80%98-%E2%80%98"><span class="toc-number">8.</span> <span class="toc-text">空值合并运算符 ‘ ?? ‘</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E-%E6%AF%94%E8%BE%83"><span class="toc-number">8.1.</span> <span class="toc-text">与 || 比较</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">8.2.</span> <span class="toc-text">优先级</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E-%E6%88%96-%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8"><span class="toc-number">8.2.1.</span> <span class="toc-text">?? 与 &amp;&amp; 或 || 一起使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">8.3.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%EF%BC%9Awhile-%E5%92%8C-for"><span class="toc-number">9.</span> <span class="toc-text">循环：while 和 for</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%9Cwhile%E2%80%9D-%E5%BE%AA%E7%8E%AF"><span class="toc-number">9.1.</span> <span class="toc-text">“while” 循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%9Cdo%E2%80%A6while%E2%80%9D-%E5%BE%AA%E7%8E%AF"><span class="toc-number">9.2.</span> <span class="toc-text">“do…while” 循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%9Cfor%E2%80%9D-%E5%BE%AA%E7%8E%AF"><span class="toc-number">9.3.</span> <span class="toc-text">“for” 循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9C%81%E7%95%A5%E8%AF%AD%E5%8F%A5%E6%AE%B5"><span class="toc-number">9.3.1.</span> <span class="toc-text">省略语句段</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%B3%E5%87%BA%E5%BE%AA%E7%8E%AF"><span class="toc-number">9.4.</span> <span class="toc-text">跳出循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E7%BB%AD%E4%B8%8B%E4%B8%80%E6%AC%A1%E8%BF%AD%E4%BB%A3"><span class="toc-number">9.5.</span> <span class="toc-text">继续下一次迭代</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#break-continue-%E6%A0%87%E7%AD%BE"><span class="toc-number">9.6.</span> <span class="toc-text">break&#x2F;continue 标签</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">9.7.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#https-zh-javascript-info-while-for"><span class="toc-number">9.8.</span> <span class="toc-text">https:&#x2F;&#x2F;zh.javascript.info&#x2F;while-for</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E2%80%9Cswitch%E2%80%9D-%E8%AF%AD%E5%8F%A5"><span class="toc-number">10.</span> <span class="toc-text">“switch” 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">10.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90"><span class="toc-number">10.2.</span> <span class="toc-text">举个例子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%80%9Ccase%E2%80%9D-%E5%88%86%E7%BB%84"><span class="toc-number">10.3.</span> <span class="toc-text">“case” 分组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%BE%88%E5%85%B3%E9%94%AE"><span class="toc-number">10.4.</span> <span class="toc-text">类型很关键</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">11.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E"><span class="toc-number">11.1.</span> <span class="toc-text">函数声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">11.2.</span> <span class="toc-text">局部变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">11.3.</span> <span class="toc-text">外部变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-number">11.4.</span> <span class="toc-text">全局变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number">11.5.</span> <span class="toc-text">参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">11.6.</span> <span class="toc-text">默认值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E7%9A%84%E8%AE%A1%E7%AE%97"><span class="toc-number">11.7.</span> <span class="toc-text">默认参数的计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">11.8.</span> <span class="toc-text">返回值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%91%BD%E5%90%8D"><span class="toc-number">11.9.</span> <span class="toc-text">函数命名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-%E6%B3%A8%E9%87%8A"><span class="toc-number">11.10.</span> <span class="toc-text">函数 &#x3D;&#x3D; 注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-number">11.11.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">12.</span> <span class="toc-text">函数表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-number">12.1.</span> <span class="toc-text">回调函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F-vs-%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E"><span class="toc-number">12.2.</span> <span class="toc-text">函数表达式 vs 函数声明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-5"><span class="toc-number">12.3.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%EF%BC%8C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">13.</span> <span class="toc-text">箭头函数，基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E7%9A%84%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">13.1.</span> <span class="toc-text">多行的箭头函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E5%86%85%E5%AE%B9"><span class="toc-number">13.2.</span> <span class="toc-text">更多内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-6"><span class="toc-number">13.3.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/blog/note/code/JavaScript3.html" title="JavaScript学习笔记（3）数据类型-进阶"><img src="https://emaillistvalidation.com/blog/content/images/2023/09/JavaScript-Symbol.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript学习笔记（3）数据类型-进阶"/></a><div class="content"><a class="title" href="/blog/note/code/JavaScript3.html" title="JavaScript学习笔记（3）数据类型-进阶">JavaScript学习笔记（3）数据类型-进阶</a><time datetime="2024-10-14T16:22:47.000Z" title="发表日期 2024-10-14 16:22:47">2024-10-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blog/uncategorized/%E6%B5%8B%E8%AF%951.html" title="测试1"><div style="background: 【可选】文章缩略图(若无top_img,文章页顶部将显，可设为false/图片地址/留空)"></div></a><div class="content"><a class="title" href="/blog/uncategorized/%E6%B5%8B%E8%AF%951.html" title="测试1">测试1</a><time datetime="2024-10-10T18:44:43.000Z" title="发表日期 2024-10-10 18:44:43">2024-10-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blog/note/software-use/Trpora.html" title="Trpora的使用说明"><img src="https://typoraio.cn/img/favicon-128.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Trpora的使用说明"/></a><div class="content"><a class="title" href="/blog/note/software-use/Trpora.html" title="Trpora的使用说明">Trpora的使用说明</a><time datetime="2024-10-10T18:34:06.000Z" title="发表日期 2024-10-10 18:34:06">2024-10-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blog/note/code/JavaScript2.html" title="JavaScript学习笔记（2）对象object"><img src="https://emaillistvalidation.com/blog/content/images/2023/09/JavaScript-Symbol.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript学习笔记（2）对象object"/></a><div class="content"><a class="title" href="/blog/note/code/JavaScript2.html" title="JavaScript学习笔记（2）对象object">JavaScript学习笔记（2）对象object</a><time datetime="2024-10-08T17:58:39.000Z" title="发表日期 2024-10-08 17:58:39">2024-10-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blog/uncategorized/word%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E6%89%93%E5%8D%B0%E9%83%A8%E5%88%86%E6%96%87%E5%AD%97%E4%B8%8D%E6%98%BE%E7%A4%BA.html" title="word如何设置打印部分文字不显示"><div style="background: 【可选】文章缩略图(若无top_img,文章页顶部将显，可设为false/图片地址/留空)"></div></a><div class="content"><a class="title" href="/blog/uncategorized/word%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E6%89%93%E5%8D%B0%E9%83%A8%E5%88%86%E6%96%87%E5%AD%97%E4%B8%8D%E6%98%BE%E7%A4%BA.html" title="word如何设置打印部分文字不显示">word如何设置打印部分文字不显示</a><time datetime="2024-10-05T15:45:06.000Z" title="发表日期 2024-10-05 15:45:06">2024-10-05</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 玉伏树</div><div class="framework-info"><span>本博客框架基于 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>本博客使用的主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(()=>{
  const getGiscusTheme = theme => {
    return theme === 'dark' ? 'dark' : 'light'
  }

  const loadGiscus = () => {
    const config = Object.assign({
      src: 'https://giscus.app/client.js',
      'data-repo': 'aboucide/hexo-aboucide-comment',
      'data-repo-id': 'R_kgDOM8yVSQ',
      'data-category-id': 'DIC_kwDOM8yVSc4CjJFp',
      'data-mapping': 'pathname',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true
    },null)

    const ele = document.createElement('script')
    for (let key in config) {
      ele.setAttribute(key, config[key])
    }
    document.getElementById('giscus-wrap').appendChild(ele)
  }

  const changeGiscusTheme = theme => {
    const sendMessage = message => {
      const iframe = document.querySelector('iframe.giscus-frame')
      if (!iframe) return
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
    }

    sendMessage({
      setConfig: {
        theme: getGiscusTheme(theme)
      }
    });
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment= loadGiscus
  }
})()</script></div><script async data-pjax src="https://cdn.bootcdn.net/ajax/libs/busuanzi/2.3.0/bsz.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>